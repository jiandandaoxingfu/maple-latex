{"version":3,"sources":["utils/renderer.js","utils/styles.js","components/Matrix.js","components/TimeLine.js","utils/match_bracket.js","utils/Notification.js","js/maple2mma.js","components/FunctionConvertList.js","js/show_guide.js","js/latex2maple.js","js/maple2latex.js","js/grammarly.js","js/tex_format.js","components/ButtonContainer.js","utils/dblclick.js","App.js","reportWebVitals.js","index.js"],"names":["islock","is_first","renderer","source","target","id","value","length","replace","document","getElementById","innerHTML","tagName","toLowerCase","window","MathJax","typesetPromise","then","preview_math","styles","app","width","height","display","flexDirection","justifyContent","left","minHeight","header","backgroundColor","lineHeight","padding","overflowY","borderBottom","button","borderRadius","margin","textarea","outline","border","flexGrow","footer","flexWrap","textAlign","background","output","minWidth","borderLeft","tip","position","top","right","zIndex","timeline","InputGroup","Input","Group","ButtonGroup","Button","Matrix","setdisplay","useState","rows","setRows","cols","setCols","onTextChange","event","Math","min","parseInt","eleOnInput","eleOnBlur","eleOnFocus","table2matrix","eles","getElementsByClassName","str_arr","pandend_str","getElementsByTagName","innerText","ele","push","data","n","max","map","str","i","j","padEnd","data_format","table","float","maxWidth","Switch","transform","style","gutter","span","addonBefore","onChange","checkedChildren","unCheckedChildren","defaultChecked","onClick","type","input_rows","input_columns","flex","className","onInput","onBlur","onFocus","random","create_inputs","TimeLine","commit_history","setCommit_history","isfetch","setIsfetch","get_commit_history","a","commit_history_","fetch","x","json","commit","date","Date","author","toJSON","split","toTimeString","msg","message","filter","match","catch","e","console","log","mode","Item","label","slice","desc","size","match_bracket","c","bracket","func","callback","Func","RegExp","m","start","index","num_l","num_r","end","Notification","placement","info","notification","description","f2F","func_map","arctan","arcsin","arccos","arcsinh","arccot","arccosh","arctanh","arccoth","arcsec","arccsc","arccsch","exp","ln","sinh","cosh","sech","csch","coth","tanh","sin","cos","tan","sqrt","abs","conjugate","diff","JacobiTheta1","JacobiTheta2","JacobiTheta3","JacobiTheta4","FunctionConvertList","close_table","maxHeight","overflow","inputs","marginBottom","maple_func","maple_expr","includes","Set","sort","b","get_maple_func","marginRight","paddingTop","create_list","maple_func_list","querySelectorAll","mma_func_list","lc","forEach","re","repeat","maple2mma","marginLeft","is_show_guide","input_value","show_guide","INSTRCUTION","power","f2f","frac","remove_decoration","c_l","expr","vars","replaceAll","latex2maple","reverse","join","reg","simple_format","latex_format_maple","is_coeff","discrete_latex_format_maple","set_input_format_latex","is_discrete","old_code","set_input_format_szce","eqs","eq","eq1","test","is_match","V_ij_x","move_V_ij_x_2_left","move_V_ij_2_left","format_szce","format_szce_relation","matchs","lhs","mt","DT_gauge","DT_coe","continuous_formula","discrete_formula","continuous_szce_formula","discrete_szce_formula","grammarly","create_block_tree","doc","level","lines","envir","child","format_text","indexOf","s","reduce","isblock","lc_","begin_match","blocks","begin_index","end_index","sub_lc","bm","em","get_blocks","recover_from_block_tree","tree","tex_format","descriptions","isDoc","bib","block_tree","ButtonContainer","setMatrix_display","setList_display","btn_name","btn_click","click","btn_type","arr","btn_arr","dblclick","is_display","App","matrix_display","list_display","body","addEventListener","color","rel","href","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","tex","inlineMath","tags","script","createElement","src","async","head","appendChild","ReactDOM","render","StrictMode"],"mappings":"8NAAIA,G,OAAS,GACTC,GAAW,EAOR,SAASC,EAASC,EAAQC,GAC/B,GAAIH,GAA0B,UAAdE,EAAOE,IAAkBF,EAAOG,MAAMC,OAAS,IAC7DN,GAAW,OAGb,IAAID,EAAJ,CACAA,GAAS,EACT,IAAIM,EAAQH,EAAOG,MAAME,QAAQ,wCAAyC,SAC1EC,SAASC,eAAe,UAAUC,UAAYL,EAAME,QAAQ,MAAO,UAC9B,UAAjCL,EAAOS,QAAQC,gBACjBJ,SAASC,eAAe,UAAUC,UAAY,IAAMF,SAASC,eAAe,UAAUC,UAAY,KAEpGG,OAAOC,QAAQC,eAAe,CAACP,SAASC,eAAe,YACpDO,MAAM,kBAlBX,SAAsBb,GACpBJ,GAAS,EACTI,EAAOO,UAAYF,SAASC,eAAe,UAAUC,SACtD,CAegBO,CAAad,EAAnB,GARS,CASnB,CCtBM,IAAMe,EAAS,CACpBC,IAAK,CACHC,MAAO,OACPC,OAAQ,OACRC,QAAS,OACTC,cAAe,MACfC,eAAgB,iBAEhBC,KAAM,CACJH,QAAS,OACTF,MAAO,MACPC,OAAQ,OACRK,UAAW,QACXH,cAAe,SACfC,eAAgB,iBAGhBG,OAAQ,CACNC,gBAAiB,QACjBC,WAAY,OACZC,QAAS,OACTC,UAAW,OACXV,OAAQ,QACRW,aAAc,qBAEdC,OAAQ,CACNC,aAAc,MACdC,OAAQ,MACRL,QAAS,YAEbM,SAAU,CACRL,UAAW,OACXX,MAAO,OACPU,QAAS,YACTO,QAAS,OACTC,OAAQ,OACRC,SAAU,GAGZC,OAAQ,CACNlB,QAAS,OACTE,eAAgB,SAChBD,cAAe,MACfkB,SAAU,OACVC,UAAW,SACXZ,QAAS,oBACTa,WAAY,WAGhBC,OAAQ,CACNxB,MAAO,MACPyB,SAAU,QACVnB,UAAW,QACXL,OAAQ,OACRkB,SAAU,EACVI,WAAY,QACZb,QAAS,YACTC,UAAW,OACXe,WAAY,qBAIdC,IAAK,CACHC,SAAU,WACV3B,OAAQ,OACR4B,IAAK,QACLxB,KAAM,IACNyB,MAAO,IACPf,OAAQ,SACRO,UAAW,SACXS,OAAQ,IACR7B,QAAS,QAEX8B,SAAU,CACRJ,SAAU,WACVC,IAAK,IACLxB,KAAM,IACNL,MAAO,OACPM,UAAW,OACXyB,OAAQ,KACRvB,gBAAiB,U,iEC5EjByB,EAAaC,IAAMC,MACnBC,EAAcC,IAAOF,MA8HZG,MA5Hf,YAA0C,IAAxBpC,EAAuB,EAAvBA,QAASqC,EAAc,EAAdA,WAAc,EACbC,mBAAS,GADI,mBAC9BC,EAD8B,KACxBC,EADwB,OAEbF,mBAAS,GAFI,mBAE9BG,EAF8B,KAExBC,EAFwB,KAI/BC,EAAe,SAACC,GACpB,IAAI7D,EAAQ8D,KAAKC,IAAKC,SAASH,EAAM/D,OAAOE,OAAQ,IAC1B,QAApB6D,EAAM/D,OAAOC,GACd0D,EAAQzD,GAER2D,EAAQ3D,EAEd,EAEKiE,EAAa,SAACJ,GAClBjE,EAAUiE,EAAM/D,OAAQK,SAASC,eAAe,OACjD,EAEK8D,EAAY,SAACL,GACjBA,EAAM/D,OAAOO,UAAY,EAC1B,EAEK8D,EAAa,SAACN,GAClBjE,EAAUiE,EAAM/D,OAAQK,SAASC,eAAe,OACjD,EAmCKgE,EAAe,WACjB,IADuB,EACnBC,EAAOlE,SAASmE,uBAAuB,OACvCC,EAAU,GACVC,EAA8F,iBAAhFrE,SAASC,eAAe,UAAUqE,qBAAqB,QAAQ,GAAGC,UAAqB,IAAM,GAHxF,cAIRL,GAJQ,IAIvB,IAAI,EAAJ,qBAAqB,CAAC,IAAdM,EAAa,QACjBJ,EAAQK,KAAKD,EAAI3E,OAASwE,EAC7B,CANsB,+BAOvB,IAAIK,EAvBY,SAACN,GAMjB,IAFA,IAAIO,EAAIhB,KAAKiB,IAAL,MAAAjB,KAAI,YAASS,EAAQS,KAAK,SAAAC,GAAG,OAAIA,EAAIhF,MAAR,MACjC4E,EAAO,GACHK,EAAE,EAAGA,EAAE1B,EAAM0B,IAAK,CACtB,IAAI,IAAIC,EAAE,EAAGA,EAAEzB,EAAO,EAAGyB,IACrBN,GAAQN,EAAQW,EAAExB,EAAOyB,GAAGC,OAAON,EAAG,KAAO,MAEjDD,GAASN,EAAQW,EAAExB,EAAOA,EAAO,GAAG0B,OAAON,EAAG,KAAO,WACxD,CACD,OAAOD,CACV,CAUcQ,CAAYd,GACvB,GAAsC,6BAAlC/D,OAAOqD,MAAM/D,OAAO4E,UACpBvE,SAASC,eAAe,SAASJ,OAAU,2CAA6C6E,EAAO,kCAC/FjF,EAASO,SAASC,eAAe,SAAUD,SAASC,eAAe,eACjE,CACF,IAAI6E,EAAM,GAAGG,OAAO,EAAI1B,EAAM,MAC9BvD,SAASC,eAAe,SAASJ,OAAU,wBAA0BiF,EAAM,oBAAsBJ,EAAO,2BAC3G,CACJ,EAOKhE,EAAS,CACXyE,MAAO,CACH3C,SAAU,WACV5B,MAAO,QACP6B,IAAK,QACLxB,KAAM,IACNyB,MAAO,IACPf,OAAQ,SACRb,QAASA,EACTqB,WAAY,SAEhBU,WAAY,CAAEuC,MAAO,OAAQC,SAAU,QAAS5C,IAAK,MAAOxB,KAAM,QAClEgC,OAAQ,CAAEtB,OAAQ,MAAOL,QAAS,YAClCgE,OAAQ,CAAE7C,IAAK,OAAQ8C,UAAW,cAAetE,KAAM,UAG3D,OACI,eAAC,IAAD,CAAMrB,GAAG,QAAQ4F,MAAQ9E,EAAOyE,MAAhC,UACI,sBAAKvF,GAAG,mBAAmB4F,MAAO,CAAEhD,SAAU,WAAYvB,KAAM,IAAKwB,IAAK,IAAKP,UAAW,UAA1F,UACI,cAACW,EAAD,CAAY2C,MAAQ9E,EAAOmC,WAA3B,SACI,eAAC,IAAD,CAAK4C,OAAQ,EAAb,UACI,cAAC,IAAD,CAAKC,KAAM,GAAX,SACI,cAAC,IAAD,CAAO9F,GAAG,MAAM+F,YAAY,SAAIC,SAAWnC,EAAe5D,MAAQwD,GAAW,SAEjF,cAAC,IAAD,CAAKqC,KAAM,GAAX,SACI,cAAC,IAAD,CAAO9F,GAAG,SAAS+F,YAAY,SAAIC,SAAWnC,EAAe5D,MAAQ0D,GAAW,cAI5F,eAACP,EAAD,CAAawC,MAAO,CAAEvE,KAAM,QAA5B,UACI,cAAC,IAAD,CAAQuE,MAAQ9E,EAAO4E,OAASO,gBAAgB,eAAKC,kBAAkB,eAAKC,gBAAc,EAACnG,GAAG,WAC9F,cAAC,IAAD,CAAQ4F,MAAQ9E,EAAOuC,OAAS+C,QAAU/B,EAAegC,KAAK,SAA9D,sCACA,cAAC,IAAD,CAAQT,MAAQ9E,EAAOuC,OAAS+C,QAAU/B,EAAegC,KAAK,UAA9D,sCACA,cAAC,IAAD,CAAQT,MAAQ9E,EAAOuC,OAAS+C,QAtC5B,WAChB7C,EAAW,QACXnD,SAASC,eAAe,OAAOuF,MAAM1E,QAAU,MAClD,EAmCwEmF,KAAK,UAA9D,gCAGR,qBAAKrG,GAAG,SAAR,SA3Fc,WAEpB,IADA,IAAIsG,EAAa,GACTnB,EAAE,EAAGA,EAAE1B,EAAM0B,IAAK,CAEtB,IADA,IAAIoB,EAAgB,GACZnB,EAAE,EAAGA,EAAEzB,EAAMyB,IACjBmB,EAAc1B,KACV,cAAC,IAAD,CAAKe,MAAO,CAAEY,KAAM,KAApB,SACI,cAAC,IAAD,CAAOC,UAAU,MAAMb,MAAO,CAAE7D,OAAQ,OAAS2E,QAAUxC,EAAayC,OAASxC,EAAYyC,QAAUxC,KAD1EL,KAAK8C,WAI9CP,EAAWzB,KAAM,cAAC,IAAD,CAAKe,MAAO,CAAE1E,QAAS,OAAQC,cAAe,OAA9C,SAA+EoF,GAAlBxC,KAAK8C,UACtF,CACD,OAAS,cAAC5D,EAAD,CAAY2C,MAAO,CAAE5E,MAAO,OAA5B,SAAuCsF,GACjD,CA+EaQ,KAEN,qBAAK9G,GAAG,MAAM4F,MAAQ9E,EAAO6B,QAGxC,E,0CC9DcoE,MA/Df,WAAqB,IAAD,EAC0BvD,mBAAS,IADnC,mBACXwD,EADW,KACKC,EADL,OAEYzD,oBAAS,GAFrB,mBAEX0D,EAFW,KAEFC,EAFE,KAIZC,EAAkB,uCAAG,8BAAAC,EAAA,sDACrBC,EAAkB,GACbnC,EAAE,EAFc,YAEXA,EAAE,GAFS,6BAGvBmC,EAAgBzC,KAHO,KAGvByC,EAHuB,kBAGOC,MAAM,0EAAD,OAA2EpC,IAC3GvE,MAAM,SAAA4G,GAAC,OAAIA,EAAEC,MAAN,IACP7G,MAAM,SAAA4G,GAUL,OATsBA,EAAEvC,KAAK,SAAAyC,GACvB,IAAIC,EAAO,IAAIC,KAAKF,EAAOA,OAAOG,OAAOF,MAEzC,MAAO,CACLA,KAFFA,EAAOA,EAAKG,SAASC,MAAM,KAAK,GAAK,IAAMJ,EAAKK,eAAeD,MAAM,KAAK,GAGxEE,IAAKP,EAAOA,OAAOQ,QAAQ/H,QAAQ,OAAQ,MAAM4H,MAAM,MAE1D,IACAI,QAAQ,SAAAT,GAAM,OAAKA,EAAOO,IAAI,GAAGG,MAAM,cAAzB,GAEpB,IACAC,OAAO,SAAAC,GAEN,OADAnB,GAAW,GACJ,EACR,IApBoB,+EAENhC,IAFM,uBAuBzBoD,QAAQC,IAAIlB,GACZL,EAAkBK,GAxBO,4CAAH,qDA2BxB,OACE,qBAAKtH,GAAG,WAAW4F,MAAQ9E,EAAOkC,SAChCoD,QAAU,WACNhG,SAASC,eAAe,YAAYuF,MAAM7C,OAA8D,OAArD3C,SAASC,eAAe,YAAYuF,MAAM7C,OAAkB,GAAK,EACpH3C,SAASC,eAAe,YAAYuF,MAAM1E,QAAgE,UAAtDd,SAASC,eAAe,YAAYuF,MAAM1E,QAAsB,QAAU,OAC1HgG,IACJC,GAAW,GACXC,IACD,EAPL,SAQE,qBAAKpH,GAAG,qBAAR,UAEgB,OAAdgH,QAAc,IAAdA,OAAA,EAAAA,EAAiB,IACf,cAAC,IAAD,CAAUyB,KAAK,OAAf,SAEIzB,EAAe/B,KAAK,SAAAyC,GAAM,OACxB,eAAC,IAASgB,KAAV,CAAeC,MAAQjB,EAAOC,KAA9B,UACE,4BAAG,6BAAMD,EAAOO,IAAI,OAElBP,EAAOO,IAAIW,MAAM,GAAG3D,KAAK,SAAA4D,GAAI,OAAI,kCAAMA,EAAN,MAAJ,MAJT,MAW9B,cAAC,IAAD,CAAMC,KAAK,aAKpB,ECxDM,SAASC,EAAcC,EAAGC,EAASC,EAAMC,EAAUC,GACxD,KAAOJ,EAAEZ,MAAM,IAAIiB,OAAOH,KAMxB,IALA,IAAII,EAAIN,EAAEZ,MAAM,IAAIiB,OAAOH,IACvBK,EAAQD,EAAEE,MAEVC,EAAQ,EACRC,EAAQ,EACHC,EAAMJ,GAHLD,EAAE,GAAGpJ,OAAS,GAGIyJ,EAAMX,EAAE9I,OAAQyJ,IAG1C,IAFAF,GAAST,EAAEW,KAASV,EAAQ,OAC5BS,GAASV,EAAEW,KAASV,EAAQ,IACP,CACnBD,EAAIG,EAASH,EAAGO,EAAOI,EAAKL,EAAGJ,EAAME,GACrC,KACD,CAGL,OAAOJ,CACR,C,aCxBM,SAASY,EAAaC,EAAWC,GACtCC,IAAaD,KAAK,CAChB5B,QAAS,GACT8B,YAAaF,EACbD,aAEH,CCJD,SAASI,EAAIjB,EAAGO,EAAOI,EAAKL,EAAGJ,EAAME,GAEnC,OADAF,EAAOA,EAAKN,MAAM,GAAI,GACfI,EAAEJ,MAAM,EAAGW,GAASH,EAAO,IAAMJ,EAAEJ,MAAMW,EAAQL,EAAKhJ,OAAS,EAAGyJ,GAAO,IAAMX,EAAEJ,MAAMe,EAAM,EAAGX,EAAE9I,OAC1G,CCHD,IAAM+C,EAAaC,IAAMC,MACnBC,EAAcC,IAAOF,MAErB+G,EAAW,CACfC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACTC,OAAQ,SACRC,QAAS,UACTC,QAAS,UACTC,QAAS,UACTC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACTC,IAAK,MACLtC,IAAK,MACLuC,GAAI,MACJC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,IAAK,MACLC,IAAK,MACLC,IAAK,MACLC,KAAM,OACNC,IAAK,MACLC,UAAW,YACXC,KAAM,IACNC,aAAc,iBACdC,aAAc,iBACdC,aAAc,iBACdC,aAAc,kBAuFDC,MAxEf,YAAuD,IAAxB/K,EAAuB,EAAvBA,QAASqC,EAAc,EAAdA,WA+B9B2I,EAAc,WAChB3I,EAAW,OACd,EAEGzC,EAAS,CACTyE,MAAO,CACH3C,SAAU,WACV5B,MAAO,QACPmL,UAAW,QACXtJ,IAAK,QACLxB,KAAM,IACNyB,MAAO,IACPf,OAAQ,SACRb,QAASA,EACTqB,WAAY,QACZ6J,SAAU,SACV9J,UAAW,UAEf+J,OAAQ,CACJzJ,SAAU,WACV5B,MAAO,QACPe,OAAQ,OACRoK,UAAW,QACXxK,UAAW,OACX2K,aAAc,SAItB,OACI,eAAC,IAAD,CAAMtM,GAAG,eAAe4F,MAAQ9E,EAAOyE,MAAvC,UACI,qBAAKvF,GAAG,SAAS4F,MAAQ9E,EAAOuL,OAAhC,SACkB,UAAZnL,GA7DM,WAChB,IAAMqL,EAdS,SAACC,GAAgB,IAAD,EACjCD,EAAU,UAAGC,EAAWpE,MAAM,mCAApB,aAAG,EAA8CnD,KAAK,SAAAiE,GAIhE,MAHI,CAAC,IAAK,IAAK,IAAK,KAAKuD,SAASvD,EAAK,MACnCA,EAAOA,EAAKN,MAAM,IAEfM,EAAKN,MAAM,GAAI,EACzB,IAGD,OAFA2D,EAAU,YAAQ,IAAIG,IAAIH,KACfI,MAAM,SAACtF,EAAGuF,GAAJ,OAAWvF,EAAEnH,OAAS0M,EAAE1M,QAAU,CAAlC,IACVqM,CACR,CAI0BM,CAAezM,SAASC,eAAe,SAASJ,OACnE,GAAI,OAACsM,QAAD,IAACA,OAAD,EAACA,EAAa,GAAlB,CAYA,IAXA,IAAIjG,EAAa,CACb,eAAC,IAAD,WACI,cAAC,IAAD,CAA2BV,MAAO,CAAEwG,SAAU,SAAUpL,MAAO,QAAS8L,YAAa,OAAQR,aAAc,OAA3G,SACI,uCADOvI,KAAK8C,UAGhB,cAAC,IAAD,UAAK,uBAAOjB,MAAO,CAAEkH,YAAa,OAAQ5L,QAAS,oBACnD,cAAC,IAAD,CAA2B0E,MAAO,CAAEwG,SAAU,SAAUpL,MAAO,QAASsL,aAAc,OAAtF,SACI,6CADOvI,KAAK8C,YALT9C,KAAK8C,WAUZ1B,EAAE,EAAGA,EAAEoH,EAAWrM,OAAQiF,IAAK,CAAC,IAAD,EACnCmB,EAAWzB,KACP,eAAC,IAAD,WACI,cAAC,IAAD,CAA2Be,MAAO,CAAEwG,SAAU,SAAUpL,MAAO,QAAS8L,YAAa,OAAQR,aAAc,OAA3G,SACI,cAAC,IAAD,CAAO7F,UAAU,iBAAiBxG,MAAOsM,EAAWpH,MAD7CpB,KAAK8C,UAGhB,cAAC,IAAD,UAAK,uBAAOjB,MAAO,CAAEkH,YAAa,OAAQC,WAAY,MAAO7L,QAAS,gBAAjE,sBACL,cAAC,IAAD,CAA2B0E,MAAO,CAAEwG,SAAU,SAAUpL,MAAO,QAASsL,aAAc,OAAtF,SACI,cAAC,IAAD,CAAO7F,UAAU,eAAexG,MAAK,UAAEiK,EAASqC,EAAWpH,WAAtB,QAA6BoH,EAAWpH,MADtEpB,KAAK8C,YALT9C,KAAK8C,UAUvB,CACD,OAAS,cAAC,EAAD,CAAYjB,MAAO,CAAE5E,MAAO,OAA5B,SAAuCsF,GAzBpB,CA0B/B,CAiCoC0G,KAE7B,eAAC,EAAD,CAAapH,MAAO,CAAE0G,aAAc,QAApC,UACI,cAAC,IAAD,CAAQlG,QAAU,WAAQ8F,ID7GnC,WACL,IAAIe,EAAkB,YAAI7M,SAAS8M,iBAAiB,gBAAgBjI,KAAI,SAAAqD,GAAC,OAAIA,EAAErI,KAAN,IACrEkN,EAAgB,YAAI/M,SAAS8M,iBAAiB,cAAcjI,KAAI,SAAAqD,GAAC,OAAIA,EAAErI,KAAN,IACjEmN,EAAKhN,SAASC,eAAe,SAASJ,MAC1CgN,EAAgBI,SAAS,SAACnE,EAAM/D,GAC9B,GAAa,SAAT+D,EAAiB,CACnBkE,EAAKA,EAAGjN,QAAQ,gCAAiC,aACjD,IAAI,IAAIgF,EAAE,EAAGA,EAAE,GAAIA,IAAK,CACtB,IAAImI,EAAK,IAAIjE,OAAO,iCAAmC,YAAYkE,OAAOpI,GAAK,MAAO,KACtFiI,EAAKA,EAAGjN,QAAQmN,EAAX,qBAA6BnI,EAA7B,MACN,CACDiI,EAAKA,EAAGjN,QAAQ,uCAAwC,kBACzD,MACCiN,EAAKrE,EAAcqE,EAAI,CAAC,IAAK,KAAMlE,EAAO,MAAOe,EAAKkD,EAAchI,GAEvE,IACDiI,EAAKA,EAAGjN,QAAQ,uBAAwB,sBAExCC,SAASC,eAAe,SAASJ,OAAS,WAAamN,EACvDxD,EAAa,cAAe,qBAC7B,CCyFwD4D,EAAa,EAAGnH,KAAK,UAA9D,0BACA,cAAC,IAAD,CAAQD,QAAU8F,EAAc7F,KAAK,SAAST,MAAO,CAAE6H,WAAY,QAAnE,+BAIf,ECzHGC,GAAgB,EAChBC,EAAc,GAEX,SAASC,IACVF,GACFC,EAAcvN,SAASC,eAAe,SAASJ,MAC/CG,SAASC,eAAe,SAASJ,MAAQ4N,IAEzCzN,SAASC,eAAe,SAASJ,MAAQ0N,EACzC9N,EAASO,SAASC,eAAe,SAAUD,SAASC,eAAe,YAErEqN,GAAiBA,CAClB,CAED,IAAMG,EAAW,imGCZjB,SAASC,EAAM9E,EAAGO,EAAOI,GACxB,OAAOX,EAAEJ,MAAM,EAAGW,EAAQ,GAAK,IAAMP,EAAEJ,MAAMW,EAAQ,EAAGI,GAAO,IAAMX,EAAEJ,MAAMe,EAAM,EAAGX,EAAE9I,OACxF,CAED,SAASuL,EAAKzC,EAAGO,EAAOI,EAAKL,GAC5B,IAAIwE,EAAQxE,EAAE,GAAKrF,SAASqF,EAAE,IAAM,EACpC,OAAON,EAAEJ,MAAM,EAAGW,EAAQ,GAAK,KAAOP,EAAEJ,MAAMW,EAAQD,EAAE,GAAGpJ,OAAQyJ,GAAO,QAAUmE,EAAQ,KAAO9E,EAAEJ,MAAMe,EAAM,EAAGX,EAAE9I,OACtH,CAED,SAAS6N,EAAI/E,EAAGO,EAAOI,EAAKL,GAC3B,IAAIJ,EAAOI,EAAE,GAAGV,MAAM,GAAI,GAC1B,OAAOI,EAAEJ,MAAM,EAAGW,GAASL,EAAO,IAAMF,EAAEJ,MAAMW,EAAQL,EAAKhJ,OAAS,EAAGyJ,GAAO,IAAMX,EAAEJ,MAAMe,EAAM,EAAGX,EAAE9I,OACzG,CAED,SAAS8N,EAAKhF,EAAGO,EAAOI,GACvB,OAAOX,EAAEJ,MAAM,EAAGW,GAAS,IAAMP,EAAEJ,MAAMW,EAAQ,EAAGI,GAAO,KAAOX,EAAEJ,MAAMe,EAAM,EAAGX,EAAE9I,OACrF,CAED,SAAS+N,EAAkBjF,EAAGO,EAAOI,EAAKL,GACzC,IAAIJ,EAAOI,EAAE,GAAGV,MAAM,GAAI,GAC1B,OAAOI,EAAEJ,MAAM,EAAGW,GAAS,IAAMP,EAAEJ,MAAMW,EAAQL,EAAKhJ,OAAS,EAAGyJ,GAAO,IAAMX,EAAEJ,MAAMe,EAAM,EAAGX,EAAE9I,OAClG,CAED,SAAS0L,EAAK5C,EAAGO,EAAOI,GACvB,IAAIuE,EAAMlF,EAAEJ,MAAM,EAAGW,GACpB4E,EAAOnF,EAAEJ,MAAMW,EAAQ,EAAGI,GAC1ByE,EAAOF,EAAI9F,MAAM,uBAAuB,GAAGQ,MAAM,GAAI,GAAGyF,WAAW,IAAK,MAEzE,OADAH,EAAMA,EAAI/N,QAAQ,sBAAuB,KAC/B,WAAOiO,EAAP,aAAgBD,EAAhB,UAA+BnF,EAAEJ,MAAMe,EAAM,EAAGX,EAAE9I,OAC5D,CAEM,SAASoO,IAGf,IAAIlB,EAAKhN,SAASC,eAAe,SAASJ,MAmB1CmN,EAAKrE,EAFLqE,GADAA,GADAA,GAHAA,GADAA,GADAA,GADAA,GADAA,GADAA,GALAA,EAAKA,EAAGjN,QAAQ,sBAAuB,KAK/BA,QAAQ,aAAc,KACtBA,QAAQ,YAAa,KACrBA,QAAQ,qBAAsB,QAC9BA,QAAQ,sBAAuB,QAC/BA,QAAQ,0BAA2B,gBACnCA,QAAQ,YAAa,KAGrBA,QAAQ,KAAM,OACdA,QAAQ,cAAe,OACvBA,QAAQ,WAAY,KAEL,CAAC,IAAK,KAAM,+DAAgE8N,GAInGb,EAAKrE,EAFLqE,EAAKA,EAAGjN,QAAQ,wEAAyE,SAElE,CAAC,IAAK,KAAM,YAAa6N,GAUhDZ,EAAKrE,EADLqE,GADAA,GADAA,GADAA,GAFAA,GADAA,GADAA,EAAKA,EAAGjN,QAAQ,MAAO,SACfA,QAAQ,QAAS,SACjBA,QAAQ,mBAAoB,aAE5BA,QAAQ,SAAU,KAAKA,QAAQ,OAAQ,KAAKA,QAAQ,OAAQ,MAC5DA,QAAQ,aAAc,UACtBA,QAAQ,0CAA2C,gBACnD4H,MAAM,IAAIwG,UAAUC,KAAK,IACV,CAAC,IAAK,KAAM,KAAM5C,GACzCwB,EAAKrE,EAAcqE,EAAI,CAAC,IAAK,KAAM,OAAQxB,GAE3CwB,GADAA,EAAKrE,EAAcqE,EAAI,CAAC,IAAK,KAAM,OAAQxB,IACnC7D,MAAM,IAAIwG,UAAUC,KAAK,IAEjC,IAAK,IAAIrJ,EAAI,EAAGA,GAAK,GAAIA,IAAK,CAC7B,IAAImI,EAAKjE,OAAO,gCAAD,OAAiClE,EAAjC,MAAwC,KACvDiI,EAAKA,EAAGjN,QAAQmN,EAAX,sBAA8BnI,EAAE,EAAhC,KACL,CAIDiI,EAAKrE,EAFLqE,GADAA,EAAKA,EAAGjN,QAAQ,+BAAgC,UACxCA,QAAQ,SAAU,KAEH,CAAC,IAAK,KAAM,OAAQ2N,GAM1CV,GADAA,GAHDA,EAAKrE,EAAcqE,EAAI,CAAC,IAAK,KAAM,sBAAuB3B,IAGjDtL,QAAQ,OAAQ,YAChBA,QAAQ,SAAU,UAC1B,IAAI+I,EAAO,kFACPuF,EAAM,IAAIpF,OAAJ,eAAmBH,EAAnB,mBAA0C,KACpDkE,EAAKA,EAAGjN,QAAQsO,EAAK,WACrBA,EAAM,IAAIpF,OAAJ,eAAmBH,EAAnB,MAA6B,KAEnCkE,EAAKrE,EADLqE,EAAKA,EAAGjN,QAAQsO,EAAK,OACE,CAAC,IAAK,KAAMvF,EAAO,IAAK6E,GAgChDX,GAHAA,GAHAA,GAHAA,GADAA,GAHAA,GAHAA,GAHAA,GADAA,GADAA,GADAA,GADAA,GAHAA,GADAA,GADAA,GAHCA,EAAKrE,EAAcqE,EAAI,CAAC,IAAK,KAAMlE,EAAO,MAAO6E,IAG1C5N,QAAQ,MAAO,KACfA,QAAQ,MAAO,MACfA,QAAQ,MAAO,MAGfA,QAAQ,0BAA2B,UACnCA,QAAQ,wBAAyB,UACjCA,QAAQ,gBAAiB,OACzBA,QAAQ,aAAc,SACtBA,QAAQ,cAAe,SAGvBA,QAAQ,KAAM,OAAOA,QAAQ,KAAM,QAGnCA,QAAQ,UAAW,MAGnBA,QAAQ,QAAS,QACjBA,QAAQ,4BAA6B,SAGrCA,QAAQ,WAAY,IAAIA,QAAQ,WAAY,IAAIA,QAAQ,YAAa,QAGrEA,QAAQ,UAAW,UAGnBA,QAAQ,SAAU,KAE1BC,SAASC,eAAe,SAASJ,OAAS,WAAamN,EACvDxD,EAAa,cAAe,qBAC5B,CCjID,SAAS8E,IACP,IAAItB,EAAKhN,SAASC,eAAe,SAASJ,MAO1C,OADAmN,EAAK,mDADLA,GADAA,GADAA,GADAA,GADAA,EAAKA,EAAGjN,QAAQ,MAAO,KACfA,QAAQ,eAAgB,OACxBA,QAAQ,wBAAyB,MACjCA,QAAQ,SAAU,MAClBA,QAAQ,SAAU,UACgB,QAE3C,CAED,SAASwO,EAAmBC,GAE1B,IAAIxB,EAAKhN,SAASC,eAAe,SAASJ,MAuD1C,OA5BAmN,GADAA,GADAA,GAHAA,GADAA,GADAA,GAHAA,GADAA,GALAA,GAJAA,GAJAA,GADAA,EAAKA,EAAGjN,QAAQ,MAAO,KACfA,QAAQ,OAAQ,MAIhBA,QAAQ,sEAAuE,MAI/EA,QAAQ,6FAA8F,iBAKtGA,QAAQ,yEAA0E,eAClFA,QAAQ,2FAA4F,iBAGpGA,QAAQ,iEAAkE,eAC1EA,QAAQ,qFAAsF,iBAC9FA,QAAQ,8FAA+F,iBAGvGA,QAAQ,0GAA2G,mBACnHA,QAAQ,0GAA2G,mBACnHA,QAAQ,qHAAsH,oBAErH,MAAbyO,IAKFxB,GADAA,GAFAA,EAAKA,EAAGjN,QAAQ,6EAA8E,eAEtFA,QAAQ,yCAA0C,YAClDA,QAAQ,OAAQ,cAoB1BiN,GADAA,GADAA,GADAA,GAFAA,GAFAA,GAFAA,GAFAA,GADAA,GADAA,GAFAA,GAFAA,EAAKA,EAAGjN,QAAQ,oBAAqB,YAE7BA,QAAQ,0CAA2C,MAEnDA,QAAQ,eAAgB,OACxBA,QAAQ,wBAAyB,MACjCA,QAAQ,aAAc,MAEtBA,QAAQ,YAAa,OAErBA,QAAQ,kDAAmD,UAE3DA,QAAQ,oDAAqD,UAE7DA,QAAQ,+BAAgC,eACxCA,QAAQ,OAAQ,eAChBA,QAAQ,eAAgB,SACxBA,QAAQ,UAAW,IAE5B,CAED,SAAS0O,IACP,IAAIzB,EAAKhN,SAASC,eAAe,SAASJ,MAgB1C,OADAmN,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAKA,EAAGjN,QAAQ,MAAO,KACfA,QAAQ,oBAAqB,YAC7BA,QAAQ,eAAgB,OACxBA,QAAQ,wBAAyB,MACjCA,QAAQ,aAAc,MACtBA,QAAQ,OAAQ,eAChBA,QAAQ,UAAW,MACnBA,QAAQ,0BAA2B,KACnCA,QAAQ,iCAAkC,UAC1CA,QAAQ,iCAAkC,YAC1CA,QAAQ,iCAAkC,cAC1CA,QAAQ,iCAAkC,gBAC1CA,QAAQ,iCAAkC,kBAC1CA,QAAQ,iCAAkC,oBAC1CA,QAAQ,iCAAkC,oBAEnD,CAGD,SAAS2O,EAAuBF,EAAUG,GACxC,IAAI3B,EAEFA,EADkB,MAAhB2B,EACGF,IAEAF,EAAmBC,GAE1B,IAAII,EAAWN,IACftO,SAASC,eAAe,SAASJ,MAAQ+O,EAAY,2DAAoC5B,EAAK,IAC9FvN,EAASO,SAASC,eAAe,SAAUD,SAASC,eAAe,UACpE,CAED,SAAS4O,EAAsBF,GAE7B,IAAI3B,EAYA8B,EAFJ9B,GADAA,GADAA,GAFAA,GAJEA,EADkB,MAAhB2B,EACGF,IAEAF,EAAmB,MAElBxO,QAAQ,MAAO,KAEfA,QAAQ,6BAA8B,OACtCA,QAAQ,YAAa,cACrBA,QAAQ,QAAS,KAAK4H,MAAM,KAIlCmH,EADkB,MAAhBH,EACI3B,EAAGnI,KAAI,SAAAkK,GACX,IAAIC,EAsBV,SAA4BD,GAG1B,GAAI,yBAAyBE,KAAKF,GAAK,OAAOA,EAGhC,MAAVA,EAAG,KACLA,EAAK,IAAMA,GAEb,IAAIG,EAAWH,EAAG/G,MAAM,oCACtBmH,EAAS,GACM,OAAbD,IACFC,EAASD,EAAS,GAClBH,EAAKA,EAAGhP,QAAQmP,EAAS,GAAI,KAEb,MAAdC,EAAO,KACTA,EAASA,EAAO3G,MAAM,IAExB,OAAO2G,EAASJ,CACjB,CAzCeK,CAAmBL,GAE7B,MAAO,CAACC,EADAK,GAAiBL,GAE1B,IAEKhC,EAAGnI,KAAI,SAAAkK,GAAE,MAAI,CAACA,EAAIM,GAAiBN,GAA1B,IAGjB,IAAIO,EAAc,GAChBC,EAAuB,GACzBT,EAAI7B,SAAQ,SAAA8B,GACVO,GAAe,IAAMP,EAAG,GAAK,eAC7BQ,GAAwBR,EAAG,EAC5B,IACDO,EAAc,qBAAuBA,EAAc,eACnDC,EAAuB,qBAAuBA,EAAuB,eACrE,IAAIX,EAAWN,IACftO,SAASC,eAAe,SAASJ,MAAQ+O,EAAW,WAAaU,EAAxBV,gDACzC5O,SAASC,eAAe,SAASJ,MAAQG,SAASC,eAAe,SAASJ,MAAQ,IAAM0P,EAAuB,YAC/G9P,EAASO,SAASC,eAAe,SAAUD,SAASC,eAAe,UACpE,CAuBD,SAASoP,GAAiBN,GAGxB,IAAIS,GADJT,GAAM,KACU/G,MAAM,gCAClByH,EAAM,GAeV,OAdID,GACFA,EAAOvC,SAAQ,SAAAyC,GACbD,GAAO,IAAMC,EACbX,EAAKA,EAAGhP,QAAQ2P,EAAI,GACrB,IAKW,OADdX,GADAA,GADAA,EAAK,IAAMU,EAAM,IAAMV,EAAK,cACpBhP,QAAQ,MAAO,MACfA,QAAQ,OAAQ,MACjB,GACLgP,EAAK,IAAMA,EAAGvG,MAAM,EAAGuG,EAAGjP,QACP,MAAViP,EAAG,KACZA,EAAK,IAEAA,CACR,CAGD,SAASY,KACP,IAAI3C,EAAKuB,EAAmB,KAM5BvB,GADAA,GADAA,GADAA,GADAA,GADAA,EAAKA,EAAGjN,QAAQ,SAAU,cAClBA,QAAQ,MAAO,KACfA,QAAQ,KAAM,aACdA,QAAQ,cAAe,eACvBA,QAAQ,wDAAyD,sCACjEA,QAAQ,YAAa,aAE7B,IAAI6O,EAAWN,IACftO,SAASC,eAAe,SAASJ,MAAQ+O,EAAY,gBAAkB5B,EAAK,IAC5EvN,EAASO,SAASC,eAAe,SAAUD,SAASC,eAAe,UACpE,CAID,SAAS2P,KACP,IAAI5C,EAAKuB,EAAmB,KAK5BvB,GADAA,GADAA,GAFAA,EAAKA,EAAGjN,QAAQ,SAAU,cAElByI,MAAM,EAAGwE,EAAGlN,OAAS,IACrBC,QAAQ,QAAS,kBACjBA,QAAQ,mBAAoB,QACpCiN,EAAE,yBAAqBA,EAArB,mBAEF,IAAI4B,EAAWN,IACftO,SAASC,eAAe,SAASJ,MAAQ+O,EAAY,gBAAkB5B,EAAK,IAC5EvN,EAASO,SAASC,eAAe,SAAUD,SAASC,eAAe,UACpE,CAED,IAAM4P,GAAqB,WAAOnB,EAAuB,IAAK,IAAM,EAC9DoB,GAAmB,WAAOpB,EAAuB,IAAK,IAAM,EAE5DqB,GAA0B,WAAOlB,EAAsB,IAAM,EAC7DmB,GAAwB,WAAOnB,EAAsB,IAAM,EC7N1D,SAASoB,KACd,IAAIjD,EAAKhN,SAASC,eAAe,SAASJ,MAU1CmN,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAKA,EAAGjN,QAAQ,eAAgB,QACxBA,QAAQ,gBAAiB,QACzBA,QAAQ,cAAe,QACvBA,QAAQ,gBAAiB,KACzBA,QAAQ,WAAY,UACpBA,QAAQ,4CAA6C,YACrDA,QAAQ,kDAAmD,YAC3DA,QAAQ,gEAAiE,KACzEA,QAAQ,SAAU,MAClBA,QAAQ,2BAA2B,IAC3CC,SAASC,eAAe,SAASJ,MAAQ,WAAamN,EACtDxD,EAAa,cAAe,qBAC7B,CCeD,SAAS0G,GAAkBC,EAAKC,GAC9B,IAAIC,EAAQF,EAAIxI,MAAM,MAClB2I,EAAQ,CAAC,GAAI,IACbC,EAAQ,GACRC,EAAc,GAClB,GAAIL,EAAIM,QAAQ,WAAa,GAAKJ,EAAMvQ,OAAS,EAC/C0Q,EAAcL,EAAIxI,MAAM,MACN9C,KAAK,SAAA6L,GAAC,OAAIA,EAAE3Q,QAAQ,MAAO,IAAIoN,OAAQ,GAAKiD,EAAQ,IAA9C,IACNO,QAAQ,SAAC5L,EAAGC,GAAJ,OAAUD,EAAI,KAAOC,CAArB,QACrB,CACL,IAAI4L,EAAoC,OAA1BT,EAAInI,MAAM,aAAqD,OAA7BmI,EAAInI,MAAM,eACtD4I,GACFN,EAAQ,CAAED,EAAM,GAAIA,EAAM7H,OAAO,GAAG,IAAK3D,KAAK,SAAA6L,GAAC,OAAIA,EAAE3Q,QAAQ,MAAO,IAAIoN,OAAQ,GAAKiD,EAAQ,IAA9C,IAC/CD,EAAME,EAAM7H,MAAM,GAAI,GAAGmI,QAAQ,SAAC5L,EAAGC,GAAJ,OAAUD,EAAI,KAAMC,CAApB,KAEjCsL,EAAQ,CAAC,GAAI,IAEfC,EA9CJ,SAAoBvD,GAIlB,IAHA,IAAI6D,EAAM7D,EACN8D,EAAcD,EAAI7I,MAAM,kBACxB+I,EAAS,GACND,GAAc,CAQnB,IAPA,IAAIE,EAAcF,EAAY1H,MAC1BkH,EAAQQ,EAAY,GACpBvH,EAAG,gBAAY+G,EAAZ,KACHW,EAAY,EACZC,EAAS,GACTC,EAAK,GACLC,EAAK,CAAC,GACHD,EAAGrR,SAAWsR,EAAGtR,QACtBmR,EAAYJ,EAAIrI,MAAMyI,GAAWR,QAAQlH,GAAOA,EAAIzJ,OAASmR,EAE7DE,GADAD,EAASL,EAAIrI,MAAMwI,EAAaC,IACpBjJ,MAAM,cAAgB,GAClCoJ,EAAKF,EAAOlJ,MAAM,YAAc,GAElC+I,EAAOtM,KAAMoM,EAAIrI,MAAM,EAAGwI,IAC1BD,EAAOtM,KAAMoM,EAAIrI,MAAMwI,EAAaC,IAEpCH,GADAD,EAAMA,EAAIrI,MAAMyI,IACEjJ,MAAM,iBACzB,CAID,OAFI6I,EAAI/Q,OAAS,GAAIiR,EAAOtM,KAAKoM,GAE1BE,EAAOJ,QAAQ,SAAC5L,EAAGC,GAAJ,OAAUD,EAAIC,CAAd,MAAsBgI,EAAK+D,EAAS,EAC3D,CAmBWM,CAAWlB,GAAKtL,KAAK,SAAAsL,GAAG,OAAID,GAAkBC,EAAKC,EAAQQ,EAAnC,GACjC,CAED,MAAO,CACLR,MAAOA,EACPE,MAAOA,EACPC,MAAOA,EACPC,YAAaA,EAEhB,CAED,SAASc,GAAwBC,GAC/B,OAA0B,IAAtBA,EAAKhB,MAAMzQ,OACNyR,EAAKf,YAGN,YACRe,EAAKjB,MAAM,GADH,aAERiB,EAAKhB,MAAM1L,KAAK,SAAA0L,GAAK,OAAIe,GAAwBf,EAA5B,IAAqCI,QAAQ,SAAC5L,EAAGC,GAAJ,OAAUD,EAAIC,CAAd,IAF1D,aAGRuM,EAAKjB,MAAM,GAHH,KAMT,CAEM,SAASkB,KACd,IAAIxE,EAAKhN,SAASC,eAAe,SAASJ,MAAME,QAAQ,QAAS,MAE7D0R,EAAezE,EAAGhF,MAAM,aAKxB7G,GAJJ6L,EAAKA,EAAGjN,QAAQ,gBAAiB,mBACzBA,QAAQ,MAAO,aACfA,QAAQ,MAAO,SAEPiI,MAAM,wBAEpB7G,EADEA,EACOA,EAAO,GAAG8M,WAAW,YAAa,MAElC,GAGX,IAAIkC,EAAMnD,EAAGhF,MAAM,yCACf0J,EAAgB,OAARvB,EAIVA,EAHGuB,EAGGvB,EAAI,GAAGpQ,QAAQ,oDAAqD,IAC7DkO,WAAW,YAAa,MAH/BjB,EAAGiB,WAAW,YAAa,MAMnC,IAAI0D,EAAM3E,EAAGhF,MAAM,qDAEjB2J,EADEA,EACIA,EAAI,GAAG1D,WAAW,YAAa,MACxBA,WAAW,YAAa,eACxBlO,QAAQ,cAAe,QAE9B,GAyBR,IAAIoR,GAFJhB,GAFAA,GAFAA,GAFAA,GAFAA,GADAA,GADAA,GADAA,GAFAA,GAFAA,GAFAA,GAFAA,EAAMA,EAAIpQ,QAAQ,kBAAmB,QAE3BA,QAAQ,8BAA+B,YAEvCA,QAAQ,4DAAwD,aAEhEA,QAAQ,cAAe,SAEvBA,QAAQ,gCAAiC,WACzCA,QAAQ,qCAAsC,WAC9CA,QAAQ,8BAA+B,WACvCA,QAAQ,oCAAqC,SAE7CA,QAAQ,gBAAiB,WAEzBA,QAAQ,yCAA0C,UAElDA,QAAQ,wCAAyC,WAEjDA,QAAQ,4BAA6B,WAElCiI,MAAM,cAAgB,GAC/BoJ,EAAKjB,EAAInI,MAAM,YAAc,GACjC,GAAImJ,EAAGrR,SAAWsR,EAAGtR,OAArB,CAKA,IAAI8R,EAAa1B,GAAkBC,EAAK,GAaxC,GAZA9P,OAAOuR,WAAaA,EACpBzJ,QAAQC,IAAKwJ,GAUb5E,EAAK7L,GATLgP,EAAMmB,GAAwBM,GACvB7R,QAAQ,eAAgB,QACxBA,QAAQ,sBAAuB,MAC/BA,QAAQ,yBAA0B,MAClCA,QAAQ,wBAAyB,MACjCA,QAAQ,wBAAyB,MACjCA,QAAQ,gBAAiB,YACzBA,QAAQ,sBAAuB,YAC/BA,QAAQ,kBAAmB,aACd4R,GAAOD,EAAQ,oBAAsB,IACpC,OAAjBD,EACF,IAAK,IAAI1M,EAAE,EAAGA,EAAE0M,EAAa3R,OAAQiF,IACnCiI,EAAKA,EAAGjN,QAAQ,gBAAiB0R,EAAa1M,GAAGyD,MAAM,GAAI,IAI/DxI,SAASC,eAAe,SAASJ,MAAQmN,EACzCxD,EAAa,cAAe,qBAtB3B,MAFCA,EAAa,cAAe,2EAyB/B,CClFcqI,OA7Df,YAAkE,IAAvCC,EAAsC,EAAtCA,kBAAmBC,EAAmB,EAAnBA,gBAYtCC,EAAW,CAAC,2BAAQ,qBACR,2BACA,cAAe,YACf,QAAS,SACT,6CAAW,qCACX,6CAAW,qCACX,YAAa,2BACzBC,EAAY,CAACzE,EAXF,WACfxN,SAASC,eAAe,YAAYiS,OACrC,EATkB,WACjBJ,EAAkB,SAClB9R,SAASC,eAAe,OAAOuF,MAAM1E,QAAU,OAChD,EAiBiBoN,EAfQ,kBAAM6D,EAAgB,QAAtB,EAgBRpC,GAAUC,GACVC,GAAoBE,GACpBD,GAAkBE,GAClBC,GAAWuB,IACvBW,EAAW,CAAC,SAAU,SACV,UACA,UAAW,UACX,UAAW,UACX,UAAW,UACX,UAAW,UACX,UAAW,WAsB7B,OACE,8BApBc,WAGd,IAFA,IAAIxN,EAAIqN,EAASlS,OACbsS,EAAM,GACDrN,EAAE,EAAGA,EAAEJ,EAAGI,IACjBqN,EAAI3N,KACF,cAAC,IAAD,CACEe,MAAQ9E,EAAOe,OACfuE,QAAUiM,EAAUlN,GACpBkB,KAAOkM,EAASpN,GAHlB,SAMIiN,EAASjN,IAFLA,IAOZ,OAAOqN,CACR,CAIKC,IAGP,ECrEM,SAASC,KACd,IAAIC,EAA+D,SAAlDvS,SAASC,eAAe,QAAQuF,MAAM1E,QACvDd,SAASC,eAAe,QAAQuF,MAAM1E,QAAUyR,EAAa,OAAS,MACvE,CCsDcC,OAjDf,WAAgB,IAAD,EAC+BpP,mBAAS,QADxC,mBACNqP,EADM,KACUX,EADV,OAE2B1O,mBAAS,QAFpC,mBAENsP,EAFM,KAEQX,EAFR,KAOb,OAHA/R,SAAS2S,KAAKC,iBAAiB,WAAYN,IAIzC,sBAAK1S,GAAG,MAAM4F,MAAQ9E,EAAOC,IAA7B,UACE,sBAAKf,GAAG,OAAO4F,MAAQ9E,EAAOO,KAA9B,UACE,qBAAKuE,MAAQ9E,EAAOS,OAApB,SACE,cAAC,GAAD,CAAiB2Q,kBAAsBA,EAAoBC,gBAAoBA,MAEjF,0BAAUnS,GAAG,QAAQ4F,MAAQ9E,EAAOkB,SAAW0E,QAR/B,WAAQ7G,EAASO,SAASC,eAAe,SAAUD,SAASC,eAAe,UAAY,IAUvG,sBAAKuF,MAAQ9E,EAAOsB,OAApB,UACE,uBAAMwD,MAAO,CAAE7D,OAAQ,YAAvB,0BAEE,mBAAG6D,MAAO,CAAEqN,MAAO,SAAWC,IAAI,aAAanT,OAAO,SAASoT,KAAK,kDAApE,SAAsH,oDAFxH,gBAIA,yBACA,uBAAMvN,MAAO,CAAE7D,OAAQ,UAAvB,uBAEE,mBAAG6D,MAAO,CAAEqN,MAAO,SAAWC,IAAI,aAAanT,OAAO,SAASoT,KAAK,sCAApE,SACA,+CAHF,OAME,mBAAGvN,MAAO,CAAEqN,MAAO,SAAWC,IAAI,aAAanT,OAAO,SAASoT,KAAK,uBAApE,SACE,iDAPJ,oCAYE,mBAAGvN,MAAO,CAAEqN,MAAO,SAAWC,IAAI,aAAanT,OAAO,SAASoT,KAAK,8DAApE,SACE,6DAMR,qBAAKnT,GAAG,SAAS4F,MAAQ9E,EAAO0B,SAChC,cAAC,EAAD,CAAQtB,QAAY2R,EAAiBtP,WAAe2O,IACpD,cAAC,EAAD,CAAqBhR,QAAY4R,EAAevP,WAAe4O,IAC/D,cAAC,EAAD,IACA,qBAAKnS,GAAG,SAAS4F,MAAO,CAAE1E,QAAS,YAGxC,EC7CckS,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB1S,MAAK,YAAkD,IAA/C2S,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,EACT,GAEJ,ECJD5S,OAAOC,QAAU,CAIfkT,IAAK,CACHC,WAAY,CAAC,CAAC,IAAK,MACnBC,KAAM,QAIV,IAAIC,GAAS3T,SAAS4T,cAAc,UACpCD,GAAOE,IAAM,wDACbF,GAAOG,OAAQ,EACf9T,SAAS+T,KAAKC,YAAYL,IAE1BM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFnU,SAASC,eAAe,SAM1B+S,I","file":"static/js/main.9bd53af8.chunk.js","sourcesContent":["var islock = false;\r\nvar is_first = true;\r\n\r\nfunction preview_math(target) {\r\n  islock = false;\r\n  target.innerHTML = document.getElementById('buffer').innerHTML;\r\n}\r\n\r\nexport function renderer(source, target) {\r\n  if (is_first && source.id === 'input' && source.value.length > 10000 ) {\r\n    is_first = false;\r\n    return\r\n  }\r\n  if (islock) return;\r\n  islock = true;\r\n  let value = source.value.replace(/(beta|gamma|eta|zeta|xi|alpha|delta)/g, '$1   ');\r\n  document.getElementById('buffer').innerHTML = value.replace(/\\n/g, \"<br />\");\r\n  if (source.tagName.toLowerCase() === 'input') {\r\n    document.getElementById('buffer').innerHTML = '$' + document.getElementById('buffer').innerHTML + '$';\r\n  }\r\n  window.MathJax.typesetPromise([document.getElementById('buffer')])\r\n    .then( () => preview_math(target));\r\n}","export const styles = {\r\n  app: {\r\n    width: '100%',\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n    left: {\r\n      display: 'flex',\r\n      width: '50%',\r\n      height: '100%',\r\n      minHeight: '300px',\r\n      flexDirection: 'column',\r\n      justifyContent: 'space-between',\r\n      // border: '2px solid red'\r\n    },\r\n      header: {\r\n        backgroundColor: 'white',\r\n        lineHeight: '20px',\r\n        padding: '10px',\r\n        overflowY: 'auto',\r\n        height: '120px',\r\n        borderBottom: '6px solid #f0f2f5'\r\n      },\r\n        button: {\r\n          borderRadius: '3px',\r\n          margin: '2px',\r\n          padding: '5px 10px'\r\n        },\r\n      textarea: {\r\n        overflowY: 'auto',\r\n        width: '100%',\r\n        padding: '10px 10px',\r\n        outline: 'none',\r\n        border: 'none',\r\n        flexGrow: 1,\r\n        // border: '2px solid blue'\r\n      },\r\n      footer: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        textAlign: 'center',\r\n        padding: '10px 5px 10px 5px',\r\n        background: '#f0f2f5'\r\n      },\r\n  \r\n    output: {\r\n      width: '50%',\r\n      minWidth: '100px',\r\n      minHeight: '300px',\r\n      height: '100%',\r\n      flexGrow: 1,\r\n      background: 'white',\r\n      padding: '20px 20px',\r\n      overflowY: 'auto',\r\n      borderLeft: '6px solid #f0f2f5',\r\n      // border: '2px solid green'\r\n    },\r\n\r\n    tip: {\r\n      position: 'absolute',\r\n      height: '30px',\r\n      top: '130px',\r\n      left: '0',\r\n      right: '0',\r\n      margin: '0 auto',\r\n      textAlign: 'center',\r\n      zIndex: '2',\r\n      display: 'none'\r\n    },\r\n    timeline: {\r\n      position: 'absolute',\r\n      top: '0',\r\n      left: '0',\r\n      width: '100%',\r\n      minHeight: '100%',\r\n      zIndex: '-3',\r\n      backgroundColor: 'white',\r\n    }\r\n}","import React, { useState } from 'react';\nimport { Button, Input, Col, Row, Card, Switch } from 'antd';\nimport { renderer } from '../utils/renderer';\n\nconst InputGroup = Input.Group;\nconst ButtonGroup = Button.Group;\n\nfunction Matrix({ display, setdisplay }) {\n    const [rows, setRows] = useState(3);\n    const [cols, setCols] = useState(3);\n\n    const onTextChange = (event) => {\n      let value = Math.min( parseInt(event.target.value), 10 );\n        if( event.target.id === 'row' ) {\n           setRows(value);\n        } else {\n           setCols(value);\n        }\n    }\n\n    const eleOnInput = (event) => {\n      renderer( event.target, document.getElementById('tip') );\n    }\n\n    const eleOnBlur = (event) => {\n      event.target.innerHTML = '';\n    }\n\n    const eleOnFocus = (event) => {\n      renderer( event.target, document.getElementById('tip') );\n    }\n\n    const create_inputs = () => {\n      let input_rows = [];\n      for(let i=0; i<rows; i++) {\n          let input_columns = [];\n          for(let j=0; j<cols; j++) {\n              input_columns.push(\n                  <Col style={{ flex: '1' }} key={ Math.random() }>\n                      <Input className='ele' style={{ margin: '5px' }} onInput={ eleOnInput } onBlur={ eleOnBlur } onFocus={ eleOnFocus }/>\n                  </Col> )\n          }\n          input_rows.push( <Row style={{ display: 'flex', flexDirection: 'row' }} key={ Math.random() }>{ input_columns }</Row> )\n      }\n      return ( <InputGroup style={{ width: '98%' }}>{ input_rows }</InputGroup> );\n    }\n    \n\n    // 格式化数据\n    const data_format = (str_arr) => {\n        // input: str_arr = ['1', '22', '333', '2222'];\n        // output: 1    & 22   \\\\\n        //         333  & 2222 \\\\\n        let n = Math.max( ...str_arr.map( str => str.length ) ); // 数组中字符串最大长度\n        let data = '';\n        for(let i=0; i<rows; i++) {\n            for(let j=0; j<cols - 1; j++) {\n                data += str_arr[i*cols + j].padEnd(n, ' ') + ' & ';\n            }\n            data += (str_arr[i*cols + cols - 1].padEnd(n, ' ') + ' \\\\\\\\\\r\\n');\n        }\n        return data;\n    }\n\n    // 根据输入框中内容，生成矩阵或列表\n    const table2matrix = () => {\n        let eles = document.getElementsByClassName('ele');\n        let str_arr = [];\n        let pandend_str = document.getElementById('padend').getElementsByTagName('span')[0].innerText === '补零' ? '0' : '';\n        for(let ele of eles) {\n            str_arr.push(ele.value || pandend_str);\n        }\n        let data = data_format(str_arr);\n        if( window.event.target.innerText === '生成矩阵' ) {\n            document.getElementById('input').value += ('\\r\\n$$\\r\\n\\\\left(\\r\\n\\\\begin{matrix}\\r\\n' + data + '\\\\end{matrix}\\r\\n\\\\right)\\r\\n$$');\n            renderer(document.getElementById('input'), document.getElementById('output'));\n        }else {\n            let str = ''.padEnd(2 * cols, '|l');\n            document.getElementById('input').value += ('\\r\\n\\\\begin{tabular}{' + str + '|}\\r\\n\\\\hline\\r\\n' + data + '\\\\hline\\r\\n\\\\end{tabular}');\n        }\n    }\n    \n    const close_table = () => {\n        setdisplay('none');\n        document.getElementById('tip').style.display = 'none';\n    }\n\n    const styles = {\n        table: {\n            position: 'absolute',\n            width: '600px',\n            top: '150px',\n            left: '0',\n            right: '0',\n            margin: '0 auto',\n            display: display, \n            background: 'white'\n        },\n        InputGroup: { float: 'left', maxWidth: '200px', top: '4px', left: '10px'}, \n        Button: { margin: '4px', padding: '5px 10px' },\n        Switch: { top: '10px', transform: 'scale(1.25)', left: '-10px' },\n    }\n\n    return (\n        <Card id='table' style={ styles.table }>\n            <div id='button_container' style={{ position: 'relative', left: '0', top: '0', textAlign: 'center'}}>\n                <InputGroup style={ styles.InputGroup }>\n                    <Row gutter={6}>\n                        <Col span={12}>\n                            <Input id='row' addonBefore='行' onChange={ onTextChange } value={ rows } key='100'/>\n                        </Col>\n                        <Col span={12}>\n                            <Input id='column' addonBefore='列' onChange={ onTextChange } value={ cols } key='101'/>\n                        </Col>\n                    </Row>\n                </InputGroup>\n                <ButtonGroup style={{ left: '25px' }}>\n                    <Switch style={ styles.Switch } checkedChildren=\"补零\" unCheckedChildren=\"不补\" defaultChecked id=\"padend\"/>\n                    <Button style={ styles.Button } onClick={ table2matrix } type='danger'>生成矩阵</Button>\n                    <Button style={ styles.Button } onClick={ table2matrix } type='default'>生成列表</Button>\n                    <Button style={ styles.Button } onClick={ close_table }  type='primary'>关闭</Button>\n                </ButtonGroup>\n            </div>\n            <div id='inputs'>\n                { create_inputs() }\n            </div>\n            <div id='tip' style={ styles.tip }></div>\n        </Card>\n    )\n}\n\nexport default Matrix;","import React, { useState } from 'react';\r\nimport { Timeline, Spin } from 'antd';\r\nimport { styles } from '../utils/styles'\r\n\r\nfunction TimeLine() {\r\n  const [commit_history, setCommit_history] = useState([]);\r\n  const [isfetch, setIsfetch] = useState(false);\r\n\r\n  const get_commit_history = async () => {\r\n    let commit_history_ = [];\r\n    for( let i=1; i<5; i++ ) {\r\n      commit_history_.push(...await fetch(`https://api.github.com/repos/jiandandaoxingfu/maple-latex/commits?page=${i}`)\r\n        .then( x => x.json() )\r\n        .then( x => {\r\n          let commit_history_ = x.map( commit => {\r\n                let date = new Date(commit.commit.author.date);\r\n                date = date.toJSON().split('T')[0] + ' ' + date.toTimeString().split('G')[0];\r\n                return { \r\n                  date: date,\r\n                  msg: commit.commit.message.replace(/\\n+/g, '\\n').split('\\n') \r\n                };\r\n              })\r\n              .filter( commit => !commit.msg[0].match(/merge|bump/i) );\r\n          return commit_history_\r\n        })\r\n        .catch( e => {\r\n          setIsfetch(false);\r\n          return [];\r\n        } )\r\n      )\r\n    }\r\n    console.log(commit_history_);\r\n    setCommit_history(commit_history_);\r\n  }\r\n  \r\n  return (\r\n    <div id='timeline' style={ styles.timeline } \r\n      onClick={ () => { \r\n          document.getElementById('timeline').style.zIndex = document.getElementById('timeline').style.zIndex === '-3' ? 3 : -3; \r\n          document.getElementById('timeline').style.display = document.getElementById('timeline').style.display !== 'block' ? 'block' : 'none';\r\n          if( isfetch ) return;\r\n          setIsfetch(true);\r\n          get_commit_history();\r\n        } } >\r\n      <div id='timeline-container'>\r\n      {\r\n        commit_history?.[0] ? \r\n          <Timeline mode=\"left\">\r\n            { \r\n              commit_history.map( commit => \r\n                <Timeline.Item label={ commit.date }>\r\n                  <p><h2>{ commit.msg[0] }</h2></p>\r\n                  {   \r\n                    commit.msg.slice(1).map( desc => <p> { desc } </p>)\r\n                  }\r\n                </Timeline.Item>\r\n              )\r\n            }\r\n          </Timeline>\r\n        :\r\n          <Spin size='large' />\r\n      }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TimeLine;","// 获取[], (), {}中的东西, []里面可以出现[].\r\n// match_bracker(code, ['{', '}'], 'sin{', f2f)\r\n// function f2f(c, start, end, m) {\r\n//   let func = m[0].slice(0, -1);\r\n//   return c.slice(0, start) + func + '(' + c.slice(start + func.length + 1, end) + ')' + c.slice(end + 1, c.length);\r\n// ....sin{x+y} ...\r\n// ..../sin/(/x+y/)... \r\n// }\r\n\r\nexport function match_bracket(c, bracket, func, callback, Func) {\r\n  while (c.match(new RegExp(func))) {\r\n    let m = c.match(new RegExp(func)),\r\n        start = m.index,\r\n        len = m[0].length - 1,\r\n        num_l = 0,\r\n        num_r = 0;\r\n    for (var end = start + len; end < c.length; end++) {\r\n      num_l += c[end] === bracket[0];\r\n      num_r += c[end] === bracket[1];\r\n      if (num_l === num_r) {\r\n        c = callback(c, start, end, m, func, Func);\r\n        break\r\n      }\r\n    }\r\n  }\r\n  return c;\r\n}","import { notification } from 'antd';\r\n\r\nexport function Notification(placement, info) {\r\n  notification.info({\r\n    message: '',\r\n    description: info,\r\n    placement\r\n  });\r\n};","import { match_bracket } from '../utils/match_bracket';\r\nimport { Notification } from '../utils/Notification';\r\n\r\n// sin(...) --> sin[...]\r\nfunction f2F(c, start, end, m, func, Func) {;\r\n  func = func.slice(0, -2);\r\n  return c.slice(0, start) + Func + '[' + c.slice(start + func.length + 1, end) + ']' + c.slice(end + 1, c.length);\r\n} \r\n\r\nexport function maple2mma() {\r\n  let maple_func_list = [...document.querySelectorAll('.maple-func')].map(e => e.value);\r\n  let mma_func_list = [...document.querySelectorAll('.mma-func')].map(e => e.value);\r\n  let lc = document.getElementById('input').value;\r\n  maple_func_list.forEach( (func, i) => {\r\n    if (func === 'diff') {\r\n      lc = lc.replace(/diff\\(([^,]*?), ([a-zA-Z])\\)/g, \"D[$1, $2]\"); \r\n      for(let i=1; i<10; i++) {\r\n        let re = new RegExp('diff\\\\(([a-zA-Z]+(\\\\(.*?\\\\))?)' + ', ([a-z])'.repeat(i) + '\\\\)', 'g');\r\n        lc = lc.replace(re, `D[$1, {$3, ${i}}]`);\r\n      }\r\n      lc = lc.replace(/diff\\(([^,]*?), ([a-zA-Z])\\$(\\d+)\\)/g, \"D[$1, {$2, $3}]\");\r\n    } else {\r\n      lc = match_bracket(lc, ['(', ')'], func + '\\\\(', f2F, mma_func_list[i]);\r\n    }\r\n  })\r\n  lc = lc.replace(/EllipticTheta(\\d)\\[/g, 'EllipticTheta[$1, ');\r\n\r\n  document.getElementById('input').value += '\\r\\n\\r\\n' + lc;\r\n  Notification('bottomRight', '已完成');\r\n}","import React from 'react';\nimport { Button, Input, Col, Row, Card } from 'antd';\nimport { maple2mma } from '../js/maple2mma';\n\nconst InputGroup = Input.Group;\nconst ButtonGroup = Button.Group;\n\nconst func_map = {\n  arctan: 'ArcTan',\n  arcsin: 'ArcSin',\n  arccos: 'ArcCos',\n  arcsinh: 'ArcSinh',\n  arccot: 'ArcCot',\n  arccosh: 'ArcCosh',\n  arctanh: 'ArcTanh',\n  arccoth: 'ArcCoth',\n  arcsec: 'ArcSec',\n  arccsc: 'ArcCsc',\n  arccsch: 'ArcCsch',\n  exp: 'Exp',\n  log: 'Log',\n  ln: 'Log',\n  sinh: 'Sinh',\n  cosh: 'Cosh',\n  sech: 'Sech',\n  csch: 'Csch',\n  coth: 'Coth',\n  tanh: 'Tanh',\n  sin: 'Sin',\n  cos: 'Cos',\n  tan: 'Tan',\n  sqrt: 'Sqrt',\n  abs: 'Abs',\n  conjugate: 'Conjugate',\n  diff: 'D',\n  JacobiTheta1: 'EllipticTheta1',\n  JacobiTheta2: 'EllipticTheta2',\n  JacobiTheta3: 'EllipticTheta3',\n  JacobiTheta4: 'EllipticTheta4',\n}\n\nconst get_maple_func = (maple_expr) => {\n  let maple_func = maple_expr.match(/[^a-zA-Z]?[a-zA-Z\\d]+\\(/g)?.map( func => {\n      if (['*', '+', '-', ' '].includes(func[0]) ) {\n          func = func.slice(1);\n      }\n      return func.slice(0, -1);\n  })\n  maple_func = [ ...new Set(maple_func) ];\n  maple_func.sort( (a, b) => (a.length < b.length) - 1 );\n  return maple_func;\n}\n\nfunction FunctionConvertList({ display, setdisplay }) {\n    const create_list = () => {\n        const maple_func = get_maple_func(document.getElementById('input').value);\n        if (!maple_func?.[0]) return;\n        let input_rows = [\n            <Row key={ Math.random() } >\n                <Col key={ Math.random() } style={{ overflow: 'hidden', width: '150px', marginRight: '20px', marginBottom: '7px' }} >\n                    <b>Maple</b>\n                </Col>\n                <Col><label style={{ marginRight: '34px', display: 'inline-block' }}></label></Col>\n                <Col key={ Math.random() } style={{ overflow: 'hidden', width: '150px', marginBottom: '7px' }} >\n                    <b>Mathematica</b>\n                </Col>\n            </Row>\n        ];\n        for(let i=0; i<maple_func.length; i++) {\n            input_rows.push(\n                <Row key={ Math.random() }>\n                    <Col key={ Math.random() } style={{ overflow: 'hidden', width: '150px', marginRight: '20px', marginBottom: '7px'  }} >\n                        <Input className='ele maple-func' value={maple_func[i]}/>\n                    </Col>\n                    <Col><label style={{ marginRight: '15px', paddingTop: '5px', display: 'inline-block' }}>⟶</label></Col>\n                    <Col key={ Math.random() } style={{ overflow: 'hidden', width: '150px', marginBottom: '7px' }} >\n                        <Input className='ele mma-func' value={func_map[maple_func[i]] ?? maple_func[i]}/>\n                    </Col>\n                </Row>\n            )\n        }\n        return ( <InputGroup style={{ width: '98%' }}>{ input_rows }</InputGroup> );\n    }\n\n    const close_table = () => {\n        setdisplay('none');\n    }\n\n    let styles = {\n        table: {\n            position: 'absolute',\n            width: '450px',\n            maxHeight: '380px',\n            top: '150px',\n            left: '0',\n            right: '0',\n            margin: '0 auto',\n            display: display, \n            background: 'white',\n            overflow: 'hidden',\n            textAlign: 'center'\n        },\n        inputs: {\n            position: 'relative',\n            width: '450px',\n            margin: 'auto',\n            maxHeight: '300px',\n            overflowY: 'auto',\n            marginBottom: '10px'\n        }\n    } \n \n    return (\n        <Card id=\"func_convert\" style={ styles.table }>\n            <div id='inputs' style={ styles.inputs }>\n                { display === \"block\" && create_list() }\n            </div>\n            <ButtonGroup style={{ marginBottom: '10px' }}>\n                <Button onClick={ () => { close_table(); maple2mma() } } type='primary'>转换</Button>\n                <Button onClick={ close_table } type='danger' style={{ marginLeft: '25px' }}>取消</Button>\n            </ButtonGroup>\n        </Card>\n    )\n}\n\nexport default FunctionConvertList;","import { renderer } from '../utils/renderer';\r\n\r\nvar is_show_guide = true;\r\nvar input_value = '';\r\n\r\nexport function show_guide() {\r\n  if (is_show_guide) {\r\n    input_value = document.getElementById('input').value;\r\n    document.getElementById('input').value = INSTRCUTION;\r\n  } else {\r\n    document.getElementById('input').value = input_value;\r\n    renderer(document.getElementById('input'), document.getElementById('output'));\r\n  }\r\n  is_show_guide = !is_show_guide;\r\n}\r\n\r\nconst INSTRCUTION =  `可以实时预览数学公式(先输入数学环境)，创建列表和矩阵\r\n处理Maple生成的latex代码等。\r\n\r\n双击： 左侧收起/恢复，\r\n    \r\n注：\r\n    1. 个人用，不具有普适性，不保证完全正确。 不过一直在用, 经常更新修复bug.\r\n    2. 仅支持latex数学公式，其它命令不支持。\r\n    3. 如出现错误， 可以把相应的tex代码和错误描述\r\n       发送至: jiaminxin@outlook.com.\r\n    4. mma: Mathematics, szce: stationary zero-curvature equation.\r\n    \r\nlatex2maple:\r\n      将mathpix-snipping-tool通过图片识别生成的latex代码\r\n      转化成maple的表达式。 目前对共轭还有问题.\r\n\r\nmaple2mma:\r\n      将复制的maple表达式转换为mathematics的表达式。\r\n      目前支持以下函数：\r\n      exp, log, abs, sqrt, conjugate, Re, Im,\r\n      sin, cos, tan, sinh, cosh, tanh, sech, csch,\r\n\r\nDT-gT: \r\n      指将gauge变换T代入T_x+TU=U_hatT.\r\n    \r\nDT-coe:\r\n      指将gauge变换T代入T_x+TU=U_hatT后比较各式中\r\n      lambda各次幂系数所得等式 \r\n  \r\n连续公式格式化：\r\n      格式化maple生成的latex代码，去除冗余\r\n      将latex代码粘贴在输入框，点击格式化即可。\r\n    \r\n连续szce格式化：\r\n      连续静态零曲率方程格式化，并且输出各未知量\r\n      的依赖关系。\r\n  \r\n离散公式格式化：\r\n      格式化maple生成的latex代码，去除冗余\r\n      将latex代码粘贴在输入框，点击格式化即可。\r\n\r\n离散szce格式化：\r\n      离散静态零曲率方程格式化，并且输出各未知量\r\n      的依赖关系。\r\n \r\ngrammarly:\r\n      使用Grammarly网站检查论文(英语)小错误。\r\n      将tex内容中的数学公式等关键信息删除。\r\n\r\nTex格式化：\r\n      格式化.tex文本。 提供断句，缩进。 \r\n      (目前存在的bug: 以某一环境结束的段落会与下一个段落合并.)\r\n\r\n`","import { match_bracket } from '../utils/match_bracket';\r\nimport { Notification } from '../utils/Notification';\r\n\r\n// ^{ ... } --> ^( ... )\r\nfunction power(c, start, end) {\r\n\treturn c.slice(0, start + 1) + '(' + c.slice(start + 2, end) + ')' + c.slice(end + 1, c.length);\r\n}\r\n// sqrt[... ]{ ... } --> ...^(...)\r\nfunction sqrt(c, start, end, m) {\r\n\tlet power = m[2] ? parseInt(m[2]) : 2;\r\n\treturn c.slice(0, start - 1) + ' (' + c.slice(start + m[0].length, end) + ')^(1/' + power + ') ' + c.slice(end + 1, c.length);\r\n}\r\n// sin {...} / [...] --> sin(...)\r\nfunction f2f(c, start, end, m) {\r\n\tlet func = m[0].slice(0, -1);\r\n\treturn c.slice(0, start) + func + '(' + c.slice(start + func.length + 1, end) + ')' + c.slice(end + 1, c.length);\r\n}\r\n// \\frac{a}{b} --> (a)/{b}\r\nfunction frac(c, start, end) {\r\n\treturn c.slice(0, start) + '(' + c.slice(start + 6, end) + ')/' + c.slice(end + 1, c.length);\r\n}\r\n// \\tilde{a} --> a\r\nfunction remove_decoration(c, start, end, m) {\r\n\tlet func = m[0].slice(0, -1);\r\n\treturn c.slice(0, start) + ' ' + c.slice(start + func.length + 1, end) + ' ' + c.slice(end + 1, c.length);\r\n}\r\n// expr_{x x x ... x} --> diff(expr, x$n)\r\nfunction diff(c, start, end) {\r\n\tlet c_l = c.slice(0, start),\r\n\t\texpr = c.slice(start + 2, end),\r\n\t\tvars = c_l.match(/}[xyzt]( [xyzt])*{$/)[0].slice(1, -1).replaceAll(' ', ' ,');\r\n\tc_l = c_l.replace(/}[xyzt]( [xyzt])*{$/, '');\r\n\treturn c_l + `)${vars} ,${expr}(ffid ` + c.slice(end + 1, c.length);\r\n}\r\n\r\nexport function latex2maple() {\r\n\t// lc: latex code of align/array/$$, created by mathpix-snipping-tool.exe\r\n\t// return: maple expression \r\n\tlet lc = document.getElementById('input').value;\r\n\t// \\begin{*} \\end{*} --> ''\r\n\tlc = lc.replace(/\\\\(begin|end){.*?}/g, '');\r\n\t// \\right.\\\\ \\left.\r\n\t// \\left( * \\right) -->  ( * )\r\n\t// \\left[ * \\right] -->  ( * )\r\n\t// \\left| * |\\right --> (abs())\r\n\tlc = lc.replace(/\\\\right\\./g, '');\r\n\tlc = lc.replace(/\\\\left\\./g, '');\r\n\tlc = lc.replace(/\\\\left(\\(|\\[|\\\\{)/g, ' ( ');\r\n\tlc = lc.replace(/\\\\right(\\)|\\]|\\\\})/g, ' ) ');\r\n\tlc = lc.replace(/\\\\left\\|(.*?)\\\\right\\|/g, ' (abs($1)) ');\r\n\tlc = lc.replace(/\\\\[bB]ig/g, '');\r\n\t// &  --> ', '\r\n\t// [,] \\\\ --> , \r\n\tlc = lc.replace(/&/g, \", \");\r\n\tlc = lc.replace(/(, *)?\\\\\\\\/g, ', ');\r\n\tlc = lc.replace(/\\\\times/g, \" \");\r\n\t// \\tilde{*} --> *\r\n\tlc = match_bracket(lc, ['{', '}'], '\\\\\\\\(tilde|hat|bar|underline|acute|check|boldsymbol|mathrm){', remove_decoration);\r\n\t// \\lambdax--> lambda x\r\n\tlc = lc.replace(/\\\\(alpha|beta|gamma|delta|lambda|eta|zeta|xi|rho|phi|psi)([a-zA-Z(])/g, '$1 $2');\r\n\t// \\frac{expr1}{expr2} --> 2a/2b\r\n\tlc = match_bracket(lc, ['{', '}'], '\\\\\\\\frac{', frac);\r\n\t// v_{n-1} --> v(n-1)\r\n\tlc = lc.replace(/_n/g, '(n) ');\r\n\tlc = lc.replace(/_{n}/g, '(n) ');\r\n\tlc = lc.replace(/_{n([+-])(\\d+)}/g, '(n$1$2) ');\r\n\t// expr_{12x x x ... x} --> diff(expr, x$n)\r\n\tlc = lc.replace(/ *_ */g, '_').replace(/{ */g, '{').replace(/ *}/g, '}');\r\n\tlc = lc.replace(/_([xyzt])/g, '_{$1}');\r\n\tlc = lc.replace(/(\\w+)_{(\\d{0,}),? ?([xyzt]( [xyzt])*)}/g, '($1$2)_{$3}') ;\r\n\tlc = lc.split('').reverse().join('');\r\n\tlc = match_bracket(lc, ['}', '{'], '_}', diff);\r\n\tlc = match_bracket(lc, [')', '('], '_\\\\)', diff);\r\n\tlc = match_bracket(lc, [']', '['], '_\\\\]', diff);\r\n\tlc = lc.split('').reverse().join('');\r\n\t// u^{+++} --> u(n+3)\r\n\tfor (let i = 0; i <= 12; i++) {\r\n\t\tlet re = RegExp(`([a-zA-Z0-9]+)\\\\^{([+-])[+-]{${i}}}`, 'g');\r\n\t\tlc = lc.replace(re, `shift($1, $2${i+1})`);\r\n\t}\r\n\tlc = lc.replace(/\\\\operatorname{([a-zA-Z]+)}/g, \"\\\\$1 \");\r\n\tlc = lc.replace(/ {2,}/g, \" \");\r\n\t// x^{3n + 1} --> x^(3n + 1), \r\n\tlc = match_bracket(lc, ['{', '}'], '\\\\^{', power);\r\n\t// sqrt[n]{x+y}\r\n\tlc = match_bracket(lc, ['{', '}'], 'sqrt(\\\\[(.*?)\\\\])?{', sqrt);\r\n\t// sin t --> sin(t)\r\n\t{\r\n\t\tlc = lc.replace(/e\\^/g, \" \\\\exp \");\r\n\t\tlc = lc.replace(/\\\\ln /g, \"\\\\log \");\r\n\t\tlet func = '(exp|log|sinh|cosh|sech|csch|coth|tanh|sin|cos|tan|arccos|arcsin|arctan|arccot)';\r\n\t\tlet reg = new RegExp(`\\\\\\\\(${func}) ([a-zA-Z0-9])`, \"g\");\r\n\t\tlc = lc.replace(reg, \" $1($3)\");\r\n\t\treg = new RegExp(`\\\\\\\\(${func}) `, \"g\");\r\n\t\tlc = lc.replace(reg, \" $1\");\r\n\t\tlc = match_bracket(lc, ['{', '}'], func + '{', f2f);\r\n\t\tlc = match_bracket(lc, ['[', ']'], func + '\\\\[', f2f);\r\n\t}\r\n\t// \\ --> \"\"\r\n\tlc = lc.replace(/\\\\/g, '');\r\n\tlc = lc.replace(/\\[/g, '(');\r\n\tlc = lc.replace(/\\]/g, ')');\r\n\r\n\t// a_{m} --> a[m]\r\n\tlc = lc.replace(/_ ?{(m|k|l|i|j|p|q|n)}/g, '[$1] ');\r\n\tlc = lc.replace(/_ ?(m|k|l|i|j|p|q|n)/g, '[$1] ');\r\n\tlc = lc.replace(/\\s*?_{(\\d+)}/g, '$1');\r\n\tlc = lc.replace(/\\s*?_(\\d)/g, '[$1]');\r\n\tlc = lc.replace(/_ ?{(.*?)}/g, '[$1]');\r\n\r\n\t// {/} --> (/)\r\n\tlc = lc.replace(/{/g, ' ( ').replace(/}/g, ' ) ');\r\n\t\r\n\t// remove quad\r\n\tlc = lc.replace(/q?quad/g, ' ');\r\n\r\n\t// [)ijklIixyzt]( --> [)ijklIxyzt] (\r\n\tlc = lc.replace(/\\)\\(/g, ') (');\r\n\tlc = lc.replace(/([^a-zA-Z][ijklIxyzt])\\(/g, '$1 (');\r\n\r\n\t// remove extra ,\r\n\tlc = lc.replace(/^[\\n ]*,/, '').replace(/,[ \\n]*$/, '').replace(/, *\\n *,/g, ',\\n')\r\n\t\r\n\t// (*) --> (ccc)\r\n\tlc = lc.replace(/\\(\\*\\)/g, '(ccc)');\r\n\r\n\t// remove extra spaces\r\n\tlc = lc.replace(/ {2,}/g, \" \");\r\n\r\n\tdocument.getElementById('input').value += '\\r\\n\\r\\n' + lc;\r\n\tNotification('bottomRight', '已完成');\r\n}","import { renderer } from '../utils/renderer';\r\n\r\nfunction simple_format() {\r\n  let lc = document.getElementById('input').value;\r\n  lc = lc.replace(/\\n/g, '');\r\n  lc = lc.replace(/{\\\\it(.*?)}/g, '$1');\r\n  lc = lc.replace(/\\\\noalign{\\\\medskip}/g, ' ');\r\n  lc = lc.replace(/(\\\\!)/g, ' ');\r\n  lc = lc.replace(/(\\s,)/g, '\\\\\\\\ ');\r\n  lc = '<hr><hr>\\r\\n\\r\\n 原结果：\\r\\n$$' + lc + '$$<hr>';\r\n  return lc;\r\n}\r\n\r\nfunction latex_format_maple(is_coeff) {\r\n  // is_coeff: 是否为无穷展式系数\r\n  let lc = document.getElementById('input').value;\r\n  // 去除换行符\r\n  lc = lc.replace(/\\n/g, '');\r\n  lc = lc.replace(/,0,/g, ',');\r\n  // 修正(偏)导数\r\n  // 对常数求导\r\n  // {\\frac {\\rm d}{{\\rm d}x}} \\left( 1 \\right)\r\n  lc = lc.replace(/[+-]?{\\\\frac\\s{\\\\rm\\sd}{{\\\\rm\\sd}\\w}}\\s\\\\left\\(\\s[0-9]+\\s\\\\right\\)/g, ' ');\r\n\r\n  // 一阶与高阶偏导数， \r\n  // {\\frac {\\partial }{\\partial x}} \\left( w{\\it b31} \\left( x,t \\right) \\right)\r\n  lc = lc.replace(/{\\\\frac {\\\\partial }{\\\\partial (\\w)}} \\\\left\\( (.*?) (\\\\left\\( x,t \\\\right\\).*?)\\\\right\\)/g, '($2 $3)_{$1}');\r\n  // lc = lc.replace(/{\\\\frac\\s{\\\\partial\\s\\^{(\\d+)}}{\\\\partial\\s{(\\w)}\\^{\\d+}}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$3_{$1$2} $4');\r\n\r\n  // 一阶与高阶偏导数\r\n  // {\\frac {\\partial }{\\partial x}} { w{\\it b31} } \\left( x,t \\right)\r\n  lc = lc.replace(/{\\\\frac\\s{\\\\partial\\s}{\\\\partial\\s(\\w)}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$2_{$1} $3');\r\n  lc = lc.replace(/{\\\\frac\\s{\\\\partial\\s\\^{(\\d+)}}{\\\\partial\\s{(\\w)}\\^{\\d+}}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$3_{$1$2} $4');\r\n\r\n  // 一阶与高阶偏导数\r\n  lc = lc.replace(/{\\\\frac\\s{\\\\rm d}{{\\\\rm d}(\\w)}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$2_{$1} $3');\r\n  lc = lc.replace(/{\\\\frac\\s{{\\\\rm d}\\^{(\\d+)}}{{\\\\rm d}{(\\w)}\\^{\\d+}}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$3_{$1$2} $4');\r\n  lc = lc.replace(/{\\\\frac\\s{\\\\partial\\s\\^{\\d}}{\\\\partial\\s(\\w)\\\\partial\\s(\\w)}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$3_{$1$2} $4');\r\n\r\n  // 一阶或高阶混合偏导数\r\n  lc = lc.replace(/{\\\\frac\\s{\\\\partial\\s\\^{\\d+}}{\\\\partial\\s(\\w)\\\\partial\\s{(\\w)}\\^{(\\d+)}}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$4_{$1$3$2} $5');\r\n  lc = lc.replace(/{\\\\frac\\s{\\\\partial\\s\\^{\\d+}}{\\\\partial\\s{(\\w)}\\^{(\\d+)}\\\\partial\\s(\\w)}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$4_{$2$1$3} $5');\r\n  lc = lc.replace(/{\\\\frac\\s{\\\\partial\\s\\^{\\d+}}{\\\\partial\\s{(\\w)}\\^{(\\d+)}\\\\partial\\s{(\\w)}\\^{(\\d+)}}}(.*?)\\s(\\\\left\\(.*?\\\\right\\))/g, '$5_{$2$1$4$3} $6');\r\n\r\n  if (is_coeff === '1') {\r\n    // D_2(A)(0, x) --> A_{0, x}\r\n    lc = lc.replace(/D_{{\\d}}\\s+\\\\left\\(\\s+(\\w)\\s+\\\\right\\)\\s+\\\\left\\(\\s+(\\d),(\\w)\\s+\\\\right\\)/g, '$1_{$2,$3}');\r\n    // A(2, x) --> A_2.\r\n    lc = lc.replace(/(\\w)\\s+\\\\left\\(\\s+(\\d),\\w\\s+\\\\right\\)/g, '$1_{$2}');\r\n    lc = lc.replace(/\\s,/g, ' =0, \\\\\\\\');\r\n  }\r\n  // Vij --> V_{ij}\r\n  lc = lc.replace(/([a-zA-Z]+)(\\d+)/g, '$1_{$2}');\r\n  // 删除(x), (x, t, ..)\r\n  lc = lc.replace(/\\\\left\\(\\s[a-z](,[a-z]){0,}\\s\\\\right\\)/g, ' ');\r\n  // 冗余\r\n  lc = lc.replace(/{\\\\it(.*?)}/g, '$1');\r\n  lc = lc.replace(/\\\\noalign{\\\\medskip}/g, ' ');\r\n  lc = lc.replace(/(\\\\,|\\\\!)/g, ' ');\r\n  // {{i}} --> {i}.\r\n  lc = lc.replace(/{({\\w})}/g, '$1');\r\n  // (A_{x}) or (A) --> A_{x} or A.\r\n  lc = lc.replace(/\\\\left\\(\\s+(\\w(_{\\w+}|))\\s+\\\\right\\)\\s+([^\\^])/g, '$1 $3'); // eslint-disable-line\r\n  // (A_{x})^i or (A)^i --> A^i_{x} or A^i.   \r\n  lc = lc.replace(/\\\\left\\(\\s+(\\w(_{\\w+}|))\\s+\\\\right\\)\\s+\\^({\\d+})/g, '$1^$3');\r\n  // V_{x}_{y} --> V_{x, y}\r\n  lc = lc.replace(/([a-zA-Z]+)_{(\\w+)}_{(\\w+)}/g, '$1_{$2,$3}');\r\n  lc = lc.replace(/\\s,/g, '\\t \\\\\\\\\\t ');\r\n  lc = lc.replace(/\\\\\\\\\\s+\\\\\\\\/g, '\\\\\\\\');\r\n  lc = lc.replace(/\\s{2,}/g, ' ');\r\n  return lc;\r\n}\r\n\r\nfunction discrete_latex_format_maple() {\r\n  let lc = document.getElementById('input').value;\r\n  lc = lc.replace(/\\n/g, \"\");\r\n  lc = lc.replace(/([a-zA-Z]+)(\\d+)/g, \"$1_{$2}\");\r\n  lc = lc.replace(/{\\\\it(.*?)}/g, \"$1\");\r\n  lc = lc.replace(/\\\\noalign{\\\\medskip}/g, \" \");\r\n  lc = lc.replace(/(\\\\,|\\\\!)/g, \" \");\r\n  lc = lc.replace(/\\s,/g, \"\\t \\\\\\\\\\t \");\r\n  lc = lc.replace(/\\s{2,}/g, \" \");\r\n  lc = lc.replace(/\\\\left\\(\\sn\\s\\\\right\\)/g, \"\");\r\n  lc = lc.replace(/\\\\left\\(\\sn([+-])1\\s\\\\right\\)/g, \"^{$1}\");\r\n  lc = lc.replace(/\\\\left\\(\\sn([+-])2\\s\\\\right\\)/g, \"^{$1$1}\");\r\n  lc = lc.replace(/\\\\left\\(\\sn([+-])3\\s\\\\right\\)/g, \"^{$1$1$1}\");\r\n  lc = lc.replace(/\\\\left\\(\\sn([+-])4\\s\\\\right\\)/g, \"^{$1$1$1$1}\");\r\n  lc = lc.replace(/\\\\left\\(\\sn([+-])5\\s\\\\right\\)/g, \"^{$1$1$1$1$1}\");\r\n  lc = lc.replace(/\\\\left\\(\\sn([+-])6\\s\\\\right\\)/g, \"^{$1$1$1$1$1$1}\");\r\n  lc = lc.replace(/\\\\left\\(\\sn([+-])7\\s\\\\right\\)/g, \"^{$1$1$1$1$1$1$1}\");\r\n  return lc;\r\n}\r\n\r\n\r\nfunction set_input_format_latex(is_coeff, is_discrete) {\r\n  let lc;\r\n  if (is_discrete === '1') {\r\n    lc = discrete_latex_format_maple();\r\n  } else {\r\n    lc = latex_format_maple(is_coeff);\r\n  }\r\n  let old_code = simple_format();\r\n  document.getElementById('input').value = old_code + ('\\r\\n\\r\\n\\r\\n转换结果：\\r\\n \\r\\n\\r\\n$' + lc + '$');\r\n  renderer(document.getElementById('input'), document.getElementById('output'));\r\n}\r\n\r\nfunction set_input_format_szce(is_discrete) {\r\n  // szce(静态零曲率方程)格式化(n>2)\r\n  let lc;\r\n  if (is_discrete === '1') {\r\n    lc = discrete_latex_format_maple();\r\n  } else {\r\n    lc = latex_format_maple('0');\r\n  }\r\n  lc = lc.replace(/\\s/g, '');\r\n\r\n  lc = lc.replace(/.*?{array}{.*?}(.*)\\\\end.*/, '$1');\r\n  lc = lc.replace(/\\\\lambda/g, '\\\\lambda ');\r\n  lc = lc.replace(/\\\\\\\\/g, '&').split('&');\r\n  // 将导数项 V_{ij, x}，及 V_{ij}分别移到左端\r\n  let eqs;\r\n  if (is_discrete === '0') {\r\n    eqs = lc.map(eq => {\r\n      let eq1 = move_V_ij_x_2_left(eq),\r\n        eq2 = move_V_ij_2_left(eq1);\r\n      return [eq1, eq2];\r\n    })\r\n  } else {\r\n    eqs = lc.map(eq => [eq, move_V_ij_2_left(eq)]);\r\n  }\r\n\r\n  let format_szce = '',\r\n    format_szce_relation = '';\r\n  eqs.forEach(eq => {\r\n    format_szce += '&' + eq[0] + '=0,\\\\\\\\ \\r\\n';\r\n    format_szce_relation += eq[1];\r\n  })\r\n  format_szce = '\\\\begin{align}\\r\\n' + format_szce + '\\\\end{align}';\r\n  format_szce_relation = '\\\\begin{align}\\r\\n' + format_szce_relation + '\\\\end{align}';\r\n  let old_code = simple_format();\r\n  document.getElementById('input').value = old_code + '\\r\\n\\r\\n' + format_szce + '\\r\\n\\r\\n<hr><hr>' + '依赖关系:\\r\\n'; // eslint-disable-line\r\n  document.getElementById('input').value = document.getElementById('input').value + '$' + format_szce_relation + '$<hr><hr>';\r\n  renderer(document.getElementById('input'), document.getElementById('output'));\r\n}\r\n\r\nfunction move_V_ij_x_2_left(eq) {\r\n  // 将 V_{ij, x}移到左端。\r\n  // 判断是否已经在左端\r\n  if (/^[^-+]*?\\w_\\{\\d\\d,\\w\\}/.test(eq)) return eq;\r\n  // 约去系数\r\n  // eq = eq.replace(/-?[^+-]*?\\\\left\\((.*?)\\\\right\\)/g, '$1');\r\n  if (eq[0] !== '-') {\r\n    eq = '+' + eq;\r\n  }\r\n  let is_match = eq.match(/[+-][^+-]*?\\w_\\{\\d\\d,\\w\\}[^+-]*?/),\r\n    V_ij_x = '';\r\n  if (is_match !== null) {\r\n    V_ij_x = is_match[0];\r\n    eq = eq.replace(is_match[0], '');\r\n  }\r\n  if (V_ij_x[0] === '+') {\r\n    V_ij_x = V_ij_x.slice(1);\r\n  }\r\n  return V_ij_x + eq;\r\n}\r\n\r\nfunction move_V_ij_2_left(eq) {\r\n  // szce各变量依赖关系, 主要是将 V_{ij}移到等式左端。\r\n  eq += ' ';\r\n  let matchs = eq.match(/(-|\\+)V_{\\d\\d}(?=(\\+|\\s|-))/g);\r\n  let lhs = '';\r\n  if (matchs) {\r\n    matchs.forEach(mt => {\r\n      lhs += '-' + mt\r\n      eq = eq.replace(mt, '');\r\n    })\r\n  }\r\n  eq = '&' + lhs + '=' + eq + ',\\\\\\\\ \\r\\n';\r\n  eq = eq.replace(/--/g, '+');\r\n  eq = eq.replace(/-\\+/g, '-');\r\n  if (eq[1] === '+') {\r\n    eq = '&' + eq.slice(2, eq.length);\r\n  } else if (eq[1] === '=') {\r\n    eq = '';\r\n  }\r\n  return eq;\r\n}\r\n\r\n//  指将gauge变换T代入T_x+TU=U_hatT.\r\nfunction DT_gauge() {\r\n  let lc = latex_format_maple('0');\r\n  lc = lc.replace(/H(\\w)/g, '\\\\hat{$1}');\r\n  lc = lc.replace(/\\s/g, '');\r\n  lc = lc.replace(/&/g, '=0,\\\\\\\\&');\r\n  lc = lc.replace(/\\\\\\\\([^&])/g, '=0,\\\\\\\\&$1');\r\n  lc = lc.replace(/\\\\left\\[\\\\begin{array}{\\w+}(.*?)\\\\end{array}\\\\right\\]/, '\\\\begin{align}& $1=0.\\\\end{align}');\r\n  lc = lc.replace(/\\\\lambda/g, '\\\\lambda ');\r\n\r\n  let old_code = simple_format();\r\n  document.getElementById('input').value = old_code + ('\\r\\n\\r\\n\\r\\n$' + lc + '$');\r\n  renderer(document.getElementById('input'), document.getElementById('output'));\r\n}\r\n\r\n//  指将gauge变换T代入T_x+TU=U_hatT后比较各式中lambda\r\n//  各次幂系数所得等式\r\nfunction DT_coe() {\r\n  let lc = latex_format_maple('0');\r\n  lc = lc.replace(/H(\\w)/g, '\\\\hat{$1}');\r\n\r\n  lc = lc.slice(1, lc.length - 1);\r\n  lc = lc.replace(/\\\\\\\\/g, '=0, \\\\\\\\\\r\\n&');\r\n  lc = lc.replace(/((\\s|\\+|-))_{x}/g, '$1 0');\r\n  lc = `\\\\begin{align}&${lc}=0.\\\\end{align}`;\r\n\r\n  let old_code = simple_format();\r\n  document.getElementById('input').value = old_code + ('\\r\\n\\r\\n\\r\\n$' + lc + '$');\r\n  renderer(document.getElementById('input'), document.getElementById('output'));\r\n}\r\n\r\nconst continuous_formula = () =>{ set_input_format_latex(\"0\", \"0\") };\r\nconst discrete_formula = () =>{ set_input_format_latex(\"0\", \"1\") };\r\nconst coeff_formula = () =>{ set_input_format_latex(\"1\", \"0\") };\r\nconst continuous_szce_formula = () =>{ set_input_format_szce(\"0\") };\r\nconst discrete_szce_formula = () =>{ set_input_format_szce(\"1\") };\r\n\r\nexport {\r\n  DT_gauge, DT_coe, continuous_formula, coeff_formula, \r\n  continuous_szce_formula, discrete_formula, discrete_szce_formula\r\n}","import { Notification } from '../utils/Notification';\r\n\r\nexport function grammarly() {\r\n  let lc = document.getElementById('input').value;\r\n  lc = lc.replace(/\\\\cite{.*?}/g, '[1]');\r\n  lc = lc.replace(/\\\\eqref{.*?}/g, '(2)');\r\n  lc = lc.replace(/\\\\ref{.*?}/g, '(3)');\r\n  lc = lc.replace(/\\\\label{.*?}/g, '');\r\n  lc = lc.replace(/\\$.*?\\$/g, '$A=B$');\r\n  lc = lc.replace(/\\\\begin{align\\*?}(.|\\n)*?\\\\end{align\\*?}/g, '$$A=B$$');\r\n  lc = lc.replace(/\\\\begin{equation\\*?}(.|\\n)*?\\\\end{equation\\*?}/g, '$$A=B$$');\r\n  lc = lc.replace(/\\\\begin{thebibliography\\*?}(.|\\n)*?\\\\end{thebibliography\\*?}/g, '');\r\n  lc = lc.replace(/\\d{8}/g, '1');\r\n  lc = lc.replace(/(.|\\n)*\\\\begin{abstract}/,'');\r\n  document.getElementById('input').value = '\\r\\n\\r\\n' + lc;\r\n  Notification('bottomRight', '已完成');\r\n}","import { Notification } from '../utils/Notification';\r\n\r\nfunction get_blocks(lc) {\r\n  let lc_ = lc;\r\n  let begin_match = lc_.match(/\\\\begin{(.*?)}/);\r\n  let blocks = [];\r\n  while( begin_match ) {\r\n    let begin_index = begin_match.index,\r\n        envir = begin_match[1],\r\n        end = `\\\\end{${envir}}`,\r\n        end_index = 0,\r\n        sub_lc = '',\r\n        bm = [],\r\n        em = [1];\r\n    while( bm.length !== em.length ) { // 同一环境的嵌套, 如 array 环境\r\n      end_index = lc_.slice(end_index).indexOf(end) + end.length + end_index;\r\n      sub_lc = lc_.slice(begin_index, end_index);\r\n      bm = sub_lc.match(/\\\\begin{/g) || [];\r\n      em = sub_lc.match(/\\\\end{/g) || [];\r\n    }\r\n    blocks.push( lc_.slice(0, begin_index) );\r\n    blocks.push( lc_.slice(begin_index, end_index) );\r\n    lc_ = lc_.slice(end_index);\r\n    begin_match = lc_.match(/\\\\begin{(.*?)}/);\r\n  }\r\n  \r\n  if( lc_.length > 0 ) blocks.push(lc_);\r\n\r\n  return blocks.reduce( (i, j) => i + j ) === lc ? blocks : [];\r\n}\r\n\r\nfunction create_block_tree(doc, level) {\r\n  let lines = doc.split('\\n'),\r\n      envir = ['', ''],\r\n      child = [],\r\n      format_text = '';\r\n  if( doc.indexOf('\\\\begin') < 0 || lines.length < 3 ) { // 叶节点\r\n    format_text = doc.split('\\n')\r\n                     .map( s => s.replace(/^ */, ' '.repeat( 3 * (level - 1) ) ) )\r\n                     .reduce( (i, j) => i + '\\n' + j );\r\n  } else {\r\n    let isblock = doc.match(/^\\\\begin/) !== null && doc.match(/\\\\end{.*?}$/) !== null;\r\n    if( isblock ) {\r\n      envir = [ lines[0], lines.slice(-1)[0] ].map( s => s.replace(/^ */, ' '.repeat( 3 * (level - 1) ) ) );\r\n      doc = lines.slice(1, -1).reduce( (i, j) => i + '\\n'+ j );\r\n    } else {\r\n      envir = ['', '']\r\n    }\r\n    child = get_blocks(doc).map( doc => create_block_tree(doc, level + isblock) );\r\n  }\r\n\r\n  return {\r\n    level: level,\r\n    envir: envir,\r\n    child: child,\r\n    format_text: format_text\r\n  }\r\n}\r\n\r\nfunction recover_from_block_tree(tree) {\r\n  if( tree.child.length === 0 ) {\r\n    return tree.format_text;\r\n  }\r\n\r\n  let text = `\r\n${tree.envir[0]}\r\n${tree.child.map( child => recover_from_block_tree(child) ).reduce( (i, j) => i + j )}\r\n${tree.envir[1]}\r\n`;\r\n  return text;\r\n}\r\n\r\nexport function tex_format() {\r\n  let lc = document.getElementById('input').value.replace(/\\n\\t/g, '\\n');\r\n  // 保留注释原格式\r\n  let descriptions = lc.match(/ *%.*?\\n/g);\r\n  lc = lc.replace(/[ \\t]*%.*?\\n/g, '_DESCRIPTION_\\n')\r\n         .replace(/\\n/g, 'AAAAAAAAA')\r\n         .replace(/\\t/g, '    ');\r\n\r\n  let header = lc.match(/.*?\\\\begin{document}/);\r\n  if( header ) {\r\n    header = header[0].replaceAll('AAAAAAAAA', '\\n');\r\n  } else {\r\n    header = '';\r\n  }\r\n\r\n  let doc = lc.match(/\\\\begin{document}(.*?)\\\\end{document}/);\r\n  let isDoc = doc !== null;\r\n  if( !isDoc ) {\r\n    doc = lc.replaceAll('AAAAAAAAA', '\\n');\r\n  } else {\r\n    doc = doc[1].replace(/\\\\begin{thebibliography}.*?\\\\end{thebibliography}/, '')\r\n                .replaceAll('AAAAAAAAA', '\\n');\r\n  }\r\n  \r\n  let bib = lc.match(/\\\\begin{thebibliography}.*?\\\\end{thebibliography}/)\r\n  if( bib ) {\r\n    bib = bib[0].replaceAll('AAAAAAAAA', '\\n')\r\n                .replaceAll('\\\\bibitem', '\\n\\\\bibitem')\r\n                .replace(/( *\\n){3,}/g, '\\n\\n');\r\n  } else {\r\n    bib = '';\r\n  }\r\n  \r\n  // \\command {} => \\command{}\r\n  doc = doc.replace(/(\\\\[a-z]+)\\s+{/g, \"$1{\");\r\n  // a. A --> a. \\n A,      \r\n  doc = doc.replace(/([a-z]|\\$|})\\. {0,}([A-Z])/g, \"$1.\\n$2\");\r\n  // 你[.。] 我--> 你[.。] \\n 我\r\n  doc = doc.replace(/([\\u4e00-\\u9fa5]|\\$|})([\\.。]) {0,}([\\u4e00-\\u9fa5])/g, \"$1$2\\n$3\"); // eslint-disable-line\r\n  // a \\begin{} --> a \\n \\begin{}\r\n  doc = doc.replace(/(\\\\begin{)/g, '\\n$1');\r\n  // \\begin{}{}[] a --> \\begin{}{}[] \\n a\r\n  doc = doc.replace(/(\\\\begin{.*?}{\\w+}) *([^\\n])/g, '$1\\n$2');\r\n  doc = doc.replace(/(\\\\begin{.*?}\\[[^\\\\]*\\]) *([^\\n])/g, '$1\\n$2');\r\n  doc = doc.replace(/(\\\\begin{.*?}) *([^\\n{\\[])/g, '$1\\n$2');  // eslint-disable-line\r\n  doc = doc.replace(/(\\\\begin{.*?)\\n\\s*(\\\\label{.*?})/g, '$1$2');\r\n  // a \\end b --> a \\n \\end \\n b\r\n  doc = doc.replace(/(\\\\end{.*?})/g, '\\n$1\\n');\r\n  // ... \\n a --> ... a\r\n  doc = doc.replace(/( [a-zA-Z]+) *\\n *([a-zA-Z]+[ ,\\.;]?)/g, '$1 $2'); // eslint-disable-line\r\n  // a  a\r\n  doc = doc.replace(/ ([a-zA-Z]+)\\s\\s+([a-zA-Z]+[ ,\\.;]?)/g, ' $1 $2'); // eslint-disable-line\r\n  // a \\\\ b\r\n  doc = doc.replace(/([a-z].*?\\\\\\\\)(.*?[a-z])/g, '$1\\n$2');\r\n\r\n  let bm = doc.match(/\\\\begin{/g) || [], \r\n      em = doc.match(/\\\\end{/g) || [];\r\n  if( bm.length !== em.length ) {\r\n    Notification('bottomRight', '\\\\begin{}与\\\\end{}个数不等, 无法处理');\r\n    return\r\n  }\r\n\r\n  let block_tree = create_block_tree(doc, 1);\r\n  window.block_tree = block_tree;\r\n  console.log( block_tree );\r\n  doc = recover_from_block_tree(block_tree)\r\n        .replace(/(\\s*\\n){3,}/g, '\\n\\n')\r\n        .replace(/(\\\\end{.*?}\\n) *\\n/g, '$1')\r\n        .replace(/\\s*\\n\\s*(\\n\\s*\\\\end{)/g, '$1')\r\n        .replace(/\\n\\s*(\\n\\s*\\\\begin{)/g, '$1')\r\n        .replace(/(\\\\begin{.*?\\n)\\s*\\n/g, '$1')\r\n        .replace(/(\\\\chapter{)/g, '\\n\\n\\n$1')\r\n        .replace(/(\\\\[a-z]*section{)/g, '\\n\\n\\n$1')\r\n        .replace(/(\\\\end{frame})/g, '$1\\n\\n\\n')\r\n  lc = header + doc + bib + (isDoc ? '\\n\\\\end{document}' : '');\r\n  if( descriptions !== null ) {\r\n    for( let i=0; i<descriptions.length; i++) {\r\n      lc = lc.replace('_DESCRIPTION_', descriptions[i].slice(0, -1));\r\n    }\r\n  }\r\n\r\n  document.getElementById('input').value = lc;\r\n  Notification('bottomRight', '已完成');\r\n}","import React from 'react';\r\nimport { Button } from 'antd';\r\nimport { show_guide } from '../js/show_guide';\r\nimport { latex2maple } from '../js/latex2maple';\r\nimport {\r\n  DT_gauge, DT_coe, continuous_formula, \r\n  continuous_szce_formula, discrete_formula, discrete_szce_formula\r\n} from '../js/maple2latex';\r\nimport { grammarly } from '../js/grammarly';\r\nimport { tex_format } from '../js/tex_format';\r\nimport { styles } from '../utils/styles'\r\n\r\nfunction ButtonContainer({ setMatrix_display, setList_display }) {\r\n  const show_table = () => {\r\n    setMatrix_display('block');\r\n    document.getElementById('tip').style.display = 'block';\r\n  };\r\n  \r\n  const show_func_convert = () => setList_display('block');\r\n  \r\n  const timeline = () => {\r\n    document.getElementById('timeline').click();\r\n  };\r\n  \r\n  const btn_name = ['使用说明', '时间轴', \r\n                    '创建矩阵',\r\n                    'latex2maple', 'maple2mma',\r\n                    'DT-gT', 'DT-coe', \r\n                    '连续公式格式化', '连续szce格式化', \r\n                    '离散公式格式化', '离散szce格式化',\r\n                    'grammarly', 'latex格式化'];\r\n  const btn_click = [show_guide, timeline,\r\n                    show_table,\r\n                    latex2maple, show_func_convert,\r\n                    DT_gauge, DT_coe, \r\n                    continuous_formula, continuous_szce_formula,\r\n                    discrete_formula, discrete_szce_formula,\r\n                    grammarly, tex_format];\r\n  const btn_type = [\"danger\", \"danger\",\r\n                    \"primary\",\r\n                    \"default\", \"default\",\r\n                    \"primary\", \"primary\",\r\n                    \"default\", \"default\",\r\n                    \"primary\", \"primary\",\r\n                    \"default\", \"default\"\r\n                  ];\r\n  \r\n  const btn_arr = () => {\r\n    let n = btn_name.length;\r\n    let arr = [];\r\n    for( let i=0; i<n; i++ ) {\r\n      arr.push( \r\n        <Button\r\n          style={ styles.button } \r\n          onClick={ btn_click[i] }\r\n          type={ btn_type[i] } \r\n          key={ i }\r\n        >\r\n          { btn_name[i] }\r\n        </Button> \r\n      );\r\n    }\r\n\r\n    return arr;\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      { btn_arr() }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ButtonContainer;","// 双击左侧输入区收起\r\n\r\nexport function dblclick() {\r\n  let is_display = document.getElementById('left').style.display !== 'none';\r\n  document.getElementById('left').style.display = is_display ? 'none' : 'flex';\r\n}","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport { renderer } from './utils/renderer';\r\nimport { styles } from './utils/styles';\r\nimport Matrix from './components/Matrix';\r\nimport TimeLine from './components/TimeLine';\r\nimport FunctionConvertList from './components/FunctionConvertList';\r\nimport ButtonContainer from './components/ButtonContainer';\r\nimport { dblclick } from './utils/dblclick'\r\n\r\nfunction App() {\r\n  const [matrix_display, setMatrix_display] = useState('none');\r\n  const [list_display, setList_display] = useState('none');\r\n\r\n  document.body.addEventListener('dblclick', dblclick);\r\n  const inputOnchange = () => { renderer(document.getElementById('input'), document.getElementById('output')) };\r\n\r\n  return (\r\n    <div id=\"app\" style={ styles.app }>\r\n      <div id='left' style={ styles.left }>\r\n        <div style={ styles.header }>\r\n          <ButtonContainer setMatrix_display = { setMatrix_display } setList_display = { setList_display }/>\r\n        </div>\r\n        <textarea id='input' style={ styles.textarea } onInput={ inputOnchange }>\r\n        </textarea>\r\n        <div style={ styles.footer }>  \r\n          <span style={{ margin: '0px 10px' }}>\r\n            ©2018-2023 \r\n            <a style={{ color: 'black' }} rel=\"noreferrer\" target=\"_blank\" href=\"https://github.com/jiandandaoxingfu/maple-latex\"><strong> Maple-Latex</strong></a> v2.6 &nbsp;\r\n          </span>\r\n          <span></span>\r\n          <span style={{ margin: '0 10px'}}>\r\n            Created by \r\n            <a style={{ color: 'black' }} rel=\"noreferrer\" target=\"_blank\" href=\"https://github.com/jiandandaoxingfu\">\r\n            <strong>  JMx  </strong>\r\n            </a>\r\n            with \r\n            <a style={{ color: 'black' }} rel=\"noreferrer\" target=\"_blank\" href=\"https://reactjs.org/\">\r\n              <strong>  React  </strong>\r\n            </a>\r\n            and\r\n            ❤️  \r\n            &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <a style={{ color: 'black' }} rel=\"noreferrer\" target=\"_blank\" href=\"https://jiandandaoxingfu.github.io/myblog/post/maple-latex/\">\r\n              <strong>文档</strong>\r\n            </a>\r\n            \r\n          </span>  \r\n        </div>\r\n      </div>\r\n      <div id='output' style={ styles.output }></div>       \r\n      <Matrix display = { matrix_display } setdisplay = { setMatrix_display }/>\r\n      <FunctionConvertList display = { list_display } setdisplay = { setList_display }/>\r\n      <TimeLine />        \r\n      <div id='buffer' style={{ display: 'none' }}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nwindow.MathJax = {\r\n  // loader: {\r\n  //   load: ['ui/lazy']\r\n  // },\r\n  tex: {\r\n    inlineMath: [['$', '$']],\r\n    tags: 'ams',\r\n  },\r\n};\r\n\r\nvar script = document.createElement('script');\r\nscript.src = \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js\";\r\nscript.async = true;\r\ndocument.head.appendChild(script)\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}